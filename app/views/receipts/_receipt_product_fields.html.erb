<tr class="nested-fields">
    <!-- Código del producto -->
    <td>
      <div class="custom-input-group">
        <%= f.input :supply_id, as: :string,
          placeholder: 'Código',
          label: false,
          :input_html => {
            class: "new-supply-code select-change input-sm",
            data: { autocomplete_source: search_by_id_supplies_path },
            size: 5,
            autocomplete: 'off'
          }
        %>
        <div class="with-loading">
          <%= fa_icon 'spinner', class: "fa-spin"%>
        </div>
      </div>
    </td>

    <!-- Nombre del producto -->
    <td>
      <div class="custom-input-group">
        <%= f.input :supply_id, as: :fake, id: "nom_ins",
          label: false,
          placeholder: 'Nombre',
          :input_html => {
            class: "new-supply-name select-change input-sm",
            data: { autocomplete_source: search_by_name_supplies_path },
            size: 45,
            value: "#{ if f.object.supply.present?; f.object.supply.name; end }",
            autocomplete: false
          }
        %>
        <div class="with-loading">
          <%= fa_icon 'spinner', class: "fa-spin"%>
        </div>
      </div>
      <%#= f.input :supply_id, :as => :hidden, :input_html =>  { class: "new-supply-id" } %>
    </td>

    <!-- Unidad del producto -->
    <td>
      <%= f.input :supply_unity, as: :fake, label: false, disabled: true, required: false,
        input_html: {
          class: 'unity input-sm',
          size: 10,
          placeholder: "Unidad",
          value: "#{
            if f.object.supply.present?
              f.object.supply.unity
            end
          }"
        }
      %>
    </td>

    <!-- Cantidad a cargar -->
    <td>
      <%= f.input :quantity, placeholder: 'Cant', required: false,
        label: false, :input_html => { class: 'new-deliver-quantity input-sm', min: '0', :style => 'width: 100px' }
      %>
    </td>

    <!-- Lote -->
    <td>
      <div class="custom-input-group">
        <%= f.input :lot_code, as: :string,
          placeholder: 'Código',
          label: false,
          required: false,
          :input_html => {
            "data-tooltip" => true,
            :title => "",
            class: "new-supply-lot-code has-tip input-sm",
            data: { autocomplete_source: search_by_lot_code_supply_lots_path },
            size: 11,
            autocomplete: 'off',
            value: "#{if f.object.lot_code.present?; f.object.lot_code; end }"
          }
        %>
        <div class="with-loading">
          <%= fa_icon 'spinner', class: "fa-spin"%>
        </div>
      </div>
    </td>

    <!-- Laboratorio -->
    <td>
      <div class="custom-input-group">
        <%= f.input :laboratory_id, as: :string,
          placeholder: 'Razón social',
          label: false,
          required: false,
          :input_html => {
            class: "new-laboratory input-sm",
            data: { autocomplete_source: search_by_name_laboratories_path },
            size: 35,
            value: "#{ if f.object.laboratory_id.present?; Laboratory.find_by_id(f.object.laboratory_id).name; end }",
            autocomplete: 'off'
          }
        %>
        <div class="with-loading">
          <%= fa_icon 'spinner', class: "fa-spin"%>
        </div>
      </div>
      <%= f.input :laboratory_id, :as => :hidden, :input_html =>  { class: "new-laboratory-id" },
        value: "#{ if f.object.laboratory_id.present?; f.object.laboratory_id; end }" %>
    </td>

    <!-- Vencimiento -->
    <td>
      <%= f.input :expiry_date_fake, as: :tempus_dominus, label: false,
        :placeholder => "M/A",
        class: "cocoon-expiry-date",
        input_html: {
          class: "new-expiry-date input-sm",
          required: false,
          autocomplete: 'off',
          value: "#{
            if f.object.expiry_date.present?
              f.object.expiry_date.strftime("%m/%y")
            else
              'n/a'
            end
          }"
        },
        html5: false
      %>
      <%= f.input :expiry_date, :as => :hidden %>
    </td>

  <!-- Botón quitar -->
  <td>
    <%= link_to_remove_association  f, class: 'remove-tag btn btn-warning',
      title: 'Quitar', data: { toggle: 'tooltip', placement: 'top' } do %>
      <%= fa_icon "minus" %>
    <% end %>
  </td>
</tr>
