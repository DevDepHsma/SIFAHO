// Add styles
$('#dialog .modal-content').addClass('panel-warning');

// Add the dialog title
$('#dialog h4').html("<i class=' glyphicon glyphicon-pencil'></i>  Editando mi perfil");

// Render the edit form
$('#dialog .modal-body').html('<%= j render("form") %>');

// Add form button
$('#dialog .modal-footer').html(
  "<a class='btn pull-left' data-dismiss='modal'>Volver</a>"+
  "<button type='submit' name='commit' class='btn btn-primary pull-right' form='edit_profile_<%=@profile.id%>'>Guardar cambios</button>"
);

// Show the dynamic dialog
$('#dialog').modal("show");

// Set focus to the first element
$('#dialog').on('shown.bs.modal', function () {
  $('.first_input').focus();
});

<%= render 'form_function' %>

// Remove style
$('#dialog').on('hidden.bs.modal', function () {
  $('#dialog .modal-content').removeClass('panel-warning');
});
