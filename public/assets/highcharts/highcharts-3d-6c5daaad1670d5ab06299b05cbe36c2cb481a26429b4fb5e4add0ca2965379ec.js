"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var e,h,p,i,c,y,r,o,n,s,a,l,x,d,f,z,u,b;!function(p){function c(t,e,i,o){return{x:o.cosB*t-o.sinB*i,y:-o.sinA*o.sinB*t+o.cosA*e-o.cosB*o.sinA*i,z:o.cosA*o.sinB*t+o.sinA*e+o.cosA*o.cosB*i}}function y(t,e,i){var o=0<i&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1;return{x:t.x*o,y:t.y*o}}var x=p.deg2rad,d=p.pick;p.perspective=function(t,e,i){var o=e.options.chart.options3d,s=!!i&&e.inverted,r={x:e.plotWidth/2,y:e.plotHeight/2,z:o.depth/2,vd:d(o.depth,1)*d(o.viewDistance,0)},a=e.scale3d||1,n=x*o.beta*(s?-1:1),l=x*o.alpha*(s?-1:1),h={cosA:Math.cos(l),cosB:Math.cos(-n),sinA:Math.sin(l),sinB:Math.sin(-n)};return i||(r.x+=e.plotLeft,r.y+=e.plotTop),p.map(t,function(t){var e=c((s?t.y:t.x)-r.x,(s?t.x:t.y)-r.y,(t.z||0)-r.z,h),i=y(e,r,r.vd);return i.x=i.x*a+r.x,i.y=i.y*a+r.y,i.z=e.z*a+r.z,{x:s?i.y:i.x,y:s?i.x:i.y,z:i.z}})},p.pointCameraDistance=function(t,e){var i=e.options.chart.options3d,o={x:e.plotWidth/2,y:e.plotHeight/2,z:d(i.depth,1)*d(i.viewDistance,0)+i.depth};return Math.sqrt(Math.pow(o.x-t.plotX,2)+Math.pow(o.y-t.plotY,2)+Math.pow(o.z-t.plotZ,2))},p.shapeArea=function(t){var e,i,o=0;for(e=0;e<t.length;e++)i=(e+1)%t.length,o+=t[e].x*t[i].y-t[i].x*t[e].y;return o/2},p.shapeArea3d=function(t,e,i){return p.shapeArea(p.perspective(t,e,i))}}(t),function(A){function G(t,e,i,o,s,r,a,n){var l=[],h=r-s;return s<r&&r-s>Math.PI/2+1e-4?l=(l=l.concat(G(t,e,i,o,s,s+Math.PI/2,a,n))).concat(G(t,e,i,o,s+Math.PI/2,r,a,n)):r<s&&s-r>Math.PI/2+1e-4?l=(l=l.concat(G(t,e,i,o,s,s-Math.PI/2,a,n))).concat(G(t,e,i,o,s-Math.PI/2,r,a,n)):["C",t+i*Math.cos(s)-i*f*h*Math.sin(s)+a,e+o*Math.sin(s)+o*f*h*Math.cos(s)+n,t+i*Math.cos(r)+i*f*h*Math.sin(r)+a,e+o*Math.sin(r)-o*f*h*Math.cos(r)+n,t+i*Math.cos(r)+a,e+o*Math.sin(r)+n]}var O=Math.cos,R=Math.PI,B=Math.sin,h=A.animObject,P=A.charts,r=A.color,l=A.defined,i=A.deg2rad,a=A.each,n=A.extend,p=A.inArray,k=A.map,c=A.merge,L=A.perspective,y=A.pick,x=A.SVGElement,t=A.SVGRenderer,d=A.wrap,f=4*(Math.sqrt(2)-1)/3/(R/2);t.prototype.toLinePath=function(t,e){var i=[];return a(t,function(t){i.push("L",t.x,t.y)}),t.length&&(i[0]="M",e&&i.push("Z")),i},t.prototype.toLineSegments=function(t){var e=[],i=!0;return a(t,function(t){e.push(i?"M":"L",t.x,t.y),i=!i}),e},t.prototype.face3d=function(t){var n=this,e=this.createElement("path");return e.vertexes=[],e.insidePlotArea=!1,e.enabled=!0,d(e,"attr",function(t,e){if("object"==typeof e&&(l(e.enabled)||l(e.vertexes)||l(e.insidePlotArea))){this.enabled=y(e.enabled,this.enabled),this.vertexes=y(e.vertexes,this.vertexes),this.insidePlotArea=y(e.insidePlotArea,this.insidePlotArea),delete e.enabled,delete e.vertexes,delete e.insidePlotArea;var i=P[n.chartIndex],o=L(this.vertexes,i,this.insidePlotArea),s=n.toLinePath(o,!0),r=A.shapeArea(o),a=this.enabled&&0<r?"visible":"hidden";e.d=s,e.visibility=a}return t.apply(this,[].slice.call(arguments,1))}),d(e,"animate",function(t,e){if("object"==typeof e&&(l(e.enabled)||l(e.vertexes)||l(e.insidePlotArea))){this.enabled=y(e.enabled,this.enabled),this.vertexes=y(e.vertexes,this.vertexes),this.insidePlotArea=y(e.insidePlotArea,this.insidePlotArea),delete e.enabled,delete e.vertexes,delete e.insidePlotArea;var i=P[n.chartIndex],o=L(this.vertexes,i,this.insidePlotArea),s=n.toLinePath(o,!0),r=A.shapeArea(o),a=this.enabled&&0<r?"visible":"hidden";e.d=s,this.attr("visibility",a)}return t.apply(this,[].slice.call(arguments,1))}),e.attr(t)},t.prototype.polyhedron=function(t){var a=this,n=this.g(),e=n.destroy;return n.attr({"stroke-linejoin":"round"}),n.faces=[],n.destroy=function(){for(var t=0;t<n.faces.length;t++)n.faces[t].destroy();return e.call(this)},d(n,"attr",function(t,e,i,o,s){if("object"==typeof e&&l(e.faces)){for(;n.faces.length>e.faces.length;)n.faces.pop().destroy();for(;n.faces.length<e.faces.length;)n.faces.push(a.face3d().add(n));for(var r=0;r<e.faces.length;r++)n.faces[r].attr(e.faces[r],null,o,s);delete e.faces}return t.apply(this,[].slice.call(arguments,1))}),d(n,"animate",function(t,e,i,o){if(e&&e.faces){for(;n.faces.length>e.faces.length;)n.faces.pop().destroy();for(;n.faces.length<e.faces.length;)n.faces.push(a.face3d().add(n));for(var s=0;s<e.faces.length;s++)n.faces[s].animate(e.faces[s],i,o);delete e.faces}return t.apply(this,[].slice.call(arguments,1))}),n.attr(t)},t.prototype.cuboid=function(t){var e=this.g(),i=e.destroy,o=this.cuboidPath(t);return e.attr({"stroke-linejoin":"round"}),e.front=this.path(o[0]).attr({"class":"highcharts-3d-front"}).add(e),e.top=this.path(o[1]).attr({"class":"highcharts-3d-top"}).add(e),e.side=this.path(o[2]).attr({"class":"highcharts-3d-side"}).add(e),e.fillSetter=function(t){return this.front.attr({fill:t}),this.top.attr({fill:r(t).brighten(.1).get()}),this.side.attr({fill:r(t).brighten(-.1).get()}),this.color=t,e.fill=t,this},e.opacitySetter=function(t){return this.front.attr({opacity:t}),this.top.attr({opacity:t}),this.side.attr({opacity:t}),this},e.attr=function(t,e,i,o){if("string"==typeof t&&void 0!==e){var s=t;(t={})[s]=e}if(!t.shapeArgs&&!l(t.x))return x.prototype.attr.call(this,t,undefined,i,o);var r=t.shapeArgs||t,a=this.renderer.cuboidPath(r);return this.front.attr({d:a[0]}),this.top.attr({d:a[1]}),this.side.attr({d:a[2]}),this},e.animate=function(t,e,i){if(l(t.x)&&l(t.y)){var o=this.renderer.cuboidPath(t);this.front.animate({d:o[0]},e,i),this.top.animate({d:o[1]},e,i),this.side.animate({d:o[2]},e,i),this.attr({zIndex:-o[3]})}else t.opacity?(this.front.animate(t,e,i),this.top.animate(t,e,i),this.side.animate(t,e,i)):x.prototype.animate.call(this,t,e,i);return this},e.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),i.call(this)},e.attr({zIndex:-o[3]}),e},A.SVGRenderer.prototype.cuboidPath=function(t){function o(t){return m[t]}var e,i,s,r,a,n,l,h=t.x,p=t.y,c=t.z,y=t.height,x=t.width,d=t.depth,f=P[this.chartIndex],z=f.options.chart.options3d.alpha,u=1e4,b=10,v=100,g=0,m=[{x:h,y:p,z:c},{x:h+x,y:p,z:c},{x:h+x,y:p+y,z:c},{x:h,y:p+y,z:c},{x:h,y:p+y,z:c+d},{x:h+x,y:p+y,z:c+d},{x:h+x,y:p,z:c+d},{x:h,y:p,z:c+d}];m=L(m,f,t.insidePlotArea);var M=function(t,e){var i=[[],-1];return t=k(t,o),e=k(e,o),A.shapeArea(t)<0?i=[t,0]:A.shapeArea(e)<0&&(i=[e,1]),i};return i=(e=M([3,2,1,0],[7,6,5,4]))[0],a=e[1],s=(e=M([1,6,7,0],[4,5,2,3]))[0],n=e[1],r=(e=M([1,2,5,6],[0,7,4,3]))[0],1===(l=e[1])?g+=u*(1e3-h):l||(g+=u*h),g+=b*(!n||0<=z&&z<=180||z<360&&357.5<z?f.plotHeight-p:10+p),1===a?g+=v*c:a||(g+=v*(1e3-c)),g=-Math.round(g),[this.toLinePath(i,!0),this.toLinePath(s,!0),this.toLinePath(r,!0),g]},A.SVGRenderer.prototype.arc3d=function(t){function l(t){var e=!1,i={};for(var o in t=c(t))-1!==p(o,s)&&(i[o]=t[o],delete t[o],e=!0);return!!e&&i}var o=this.g(),e=o.renderer,s=["x","y","r","innerR","start","end"];return(t=c(t)).alpha*=i,t.beta*=i,o.top=e.path(),o.side1=e.path(),o.side2=e.path(),o.inn=e.path(),o.out=e.path(),o.onAdd=function(){var e=o.parentGroup,i=o.attr("class");o.top.add(o),a(["out","inn","side1","side2"],function(t){o[t].attr({"class":i+" highcharts-3d-side"}).add(e)})},a(["addClass","removeClass"],function(i){o[i]=function(){var e=arguments;a(["top","out","inn","side1","side2"],function(t){o[t][i].apply(o[t],e)})}}),o.setPaths=function(t){var e=o.renderer.arc3dPath(t),i=100*e.zTop;o.attribs=t,o.top.attr({d:e.top,zIndex:e.zTop}),o.inn.attr({d:e.inn,zIndex:e.zInn}),o.out.attr({d:e.out,zIndex:e.zOut}),o.side1.attr({d:e.side1,zIndex:e.zSide1}),o.side2.attr({d:e.side2,zIndex:e.zSide2}),o.zIndex=i,o.attr({zIndex:i}),t.center&&(o.top.setRadialReference(t.center),delete t.center)},o.setPaths(t),o.fillSetter=function(t){var e=r(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this},a(["opacity","translateX","translateY","visibility"],function(t){o[t+"Setter"]=function(e,i){o[i]=e,a(["out","inn","side1","side2","top"],function(t){o[t].attr(i,e)})}}),d(o,"attr",function(t,e){var i;return"object"==typeof e&&(i=l(e))&&(n(o.attribs,i),o.setPaths(o.attribs)),t.apply(this,[].slice.call(arguments,1))}),d(o,"animate",function(t,e,i,o){var s,r,a,n=this.attribs;return delete e.center,delete e.z,delete e.depth,delete e.alpha,delete e.beta,(a=h(y(i,this.renderer.globalAnimation))).duration&&(s=l(e),e.dummy=1,s&&(r=s,a.step=function(t,e){function i(t){return n[t]+(y(r[t],n[t])-n[t])*e.pos}"dummy"===e.prop&&e.elem.setPaths(c(n,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end")}))}),i=a),t.call(this,e,i,o)}),o.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),x.prototype.destroy.call(this)},o.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},o.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},o},t.prototype.arc3dPath=function(t){function e(t){return(t%=2*Math.PI)>Math.PI&&(t=2*Math.PI-t),t}var i=t.x,o=t.y,s=t.start,r=t.end-1e-5,a=t.r,n=t.innerR,l=t.depth,h=t.alpha,p=t.beta,c=Math.cos(s),y=Math.sin(s),x=Math.cos(r),d=Math.sin(r),f=a*Math.cos(p),z=a*Math.cos(h),u=n*Math.cos(p),b=n*Math.cos(h),v=l*Math.sin(p),g=l*Math.sin(h),m=["M",i+f*c,o+z*y];m=(m=(m=(m=m.concat(G(i,o,f,z,s,r,0,0))).concat(["L",i+u*x,o+b*d])).concat(G(i,o,u,b,r,s,0,0))).concat(["Z"]);var M=0<p?Math.PI/2:0,A=0<h?0:Math.PI/2,P=-M<s?s:-M<r?-M:s,k=r<R-A?r:s<R-A?R-A:r,L=2*R-A,S=["M",i+f*O(P),o+z*B(P)];S=S.concat(G(i,o,f,z,P,k,0,0)),L<r&&s<L?S=(S=(S=(S=(S=(S=(S=(S=S.concat(["L",i+f*O(k)+v,o+z*B(k)+g])).concat(G(i,o,f,z,k,L,v,g))).concat(["L",i+f*O(L),o+z*B(L)])).concat(G(i,o,f,z,L,r,0,0))).concat(["L",i+f*O(r)+v,o+z*B(r)+g])).concat(G(i,o,f,z,r,L,v,g))).concat(["L",i+f*O(L),o+z*B(L)])).concat(G(i,o,f,z,L,k,0,0)):R-A<r&&s<R-A&&(S=(S=(S=(S=S.concat(["L",i+f*Math.cos(k)+v,o+z*Math.sin(k)+g])).concat(G(i,o,f,z,k,r,v,g))).concat(["L",i+f*Math.cos(r),o+z*Math.sin(r)])).concat(G(i,o,f,z,r,k,0,0))),S=(S=(S=S.concat(["L",i+f*Math.cos(k)+v,o+z*Math.sin(k)+g])).concat(G(i,o,f,z,k,P,v,g))).concat(["Z"]);var I=["M",i+u*c,o+b*y];I=(I=(I=(I=I.concat(G(i,o,u,b,s,r,0,0))).concat(["L",i+u*Math.cos(r)+v,o+b*Math.sin(r)+g])).concat(G(i,o,u,b,r,s,v,g))).concat(["Z"]);var w=["M",i+f*c,o+z*y,"L",i+f*c+v,o+z*y+g,"L",i+u*c+v,o+b*y+g,"L",i+u*c,o+b*y,"Z"],D=["M",i+f*x,o+z*d,"L",i+f*x+v,o+z*d+g,"L",i+u*x+v,o+b*d+g,"L",i+u*x,o+b*d,"Z"],F=Math.atan2(g,-v),Y=Math.abs(r+F),X=Math.abs(s+F),Z=Math.abs((s+r)/2+F);Y=e(Y),X=e(X);var T=1e5,V=(Z=e(Z))*T,W=X*T,C=Y*T;return{top:m,zTop:Math.PI*T+1,out:S,zOut:Math.max(V,W,C),inn:I,zInn:Math.max(V,W,C),side1:w,zSide1:.99*C,side2:D,zSide2:.99*W}}}(t),function(F){function h(t,e){var i,o=t.plotLeft,s=t.plotWidth+o,r=t.plotTop,a=t.plotHeight+r,n=o+t.plotWidth/2,l=r+t.plotHeight/2,h={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},p=1;return i=[{x:o,y:r,z:0},{x:o,y:r,z:e}],Y([0,1],function(t){i.push({x:s,y:i[t].y,z:i[t].z})}),Y([0,1,2,3],function(t){i.push({x:i[t].x,y:a,z:i[t].z})}),i=X(i,t,!1),Y(i,function(t){h.minX=Math.min(h.minX,t.x),h.maxX=Math.max(h.maxX,t.x),h.minY=Math.min(h.minY,t.y),h.maxY=Math.max(h.maxY,t.y)}),o>h.minX&&(p=Math.min(p,1-Math.abs((o+n)/(h.minX+n))%1)),s<h.maxX&&(p=Math.min(p,(s-n)/(h.maxX-n))),r>h.minY&&(p=h.minY<0?Math.min(p,(r+l)/(-h.minY+r+l)):Math.min(p,1-(r+l)/(h.minY+l)%1)),a<h.maxY&&(p=Math.min(p,Math.abs((a-l)/(h.maxY-l)))),p}var t=F.Chart,Y=F.each,e=F.merge,X=F.perspective,Z=F.pick,i=F.wrap;t.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},t.prototype.propsRequireDirtyBox.push("chart.options3d"),t.prototype.propsRequireUpdateSeries.push("chart.options3d"),i(t.prototype,"initSeries",function(t,e){var i=e.type||this.options.chart.type||this.options.chart.defaultSeriesType;return this.is3d()&&"scatter"===i&&(e.type="scatter3d"),t.call(this,e)}),F.wrap(F.Chart.prototype,"isInsidePlot",function(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}),e(!0,F.getOptions(),{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:"default",frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}}),i(t.prototype,"setClassName",function(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}),F.wrap(F.Chart.prototype,"setChartSize",function(t){var e=this,i=e.options.chart.options3d;if(t.apply(e,[].slice.call(arguments,1)),e.is3d()){var o=e.inverted,s=e.clipBox,r=e.margin,a=o?"x":"y",n=o?"height":"width",l=o?"width":"height";s[o?"y":"x"]=-(r[3]||0),s[a]=-(r[0]||0),s[n]=e.chartWidth+(r[3]||0)+(r[1]||0),s[l]=e.chartHeight+(r[0]||0)+(r[2]||0),e.scale3d=1,!0===i.fitToPlot&&(e.scale3d=h(e,i.depth))}}),i(t.prototype,"redraw",function(t){this.is3d()&&(this.isDirtyBox=!0,this.frame3d=this.get3dFrame()),t.apply(this,[].slice.call(arguments,1))}),i(t.prototype,"render",function(t){this.is3d()&&(this.frame3d=this.get3dFrame()),t.apply(this,[].slice.call(arguments,1))}),i(t.prototype,"renderSeries",function(t){var e,i=this.series.length;if(this.is3d())for(;i--;)(e=this.series[i]).translate(),e.render();else t.call(this)}),i(t.prototype,"drawChartBox",function(t){if(this.is3d()){var e=this,i=e.renderer,o=this.options.chart.options3d,s=e.get3dFrame(),r=this.plotLeft,a=this.plotLeft+this.plotWidth,n=this.plotTop,l=this.plotTop+this.plotHeight,h=0,p=o.depth,c=r-(s.left.visible?s.left.size:0),y=a+(s.right.visible?s.right.size:0),x=n-(s.top.visible?s.top.size:0),d=l+(s.bottom.visible?s.bottom.size:0),f=h-(s.front.visible?s.front.size:0),z=p+(s.back.visible?s.back.size:0),u=e.hasRendered?"animate":"attr";this.frame3d=s,this.frameShapes||(this.frameShapes={bottom:i.polyhedron().add(),top:i.polyhedron().add(),left:i.polyhedron().add(),right:i.polyhedron().add(),back:i.polyhedron().add(),front:i.polyhedron().add()}),this.frameShapes.bottom[u]({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:s.bottom.frontFacing?-1e3:1e3,faces:[{fill:F.color(s.bottom.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:f},{x:y,y:d,z:f},{x:y,y:d,z:z},{x:c,y:d,z:z}],enabled:s.bottom.visible},{fill:F.color(s.bottom.color).brighten(.1).get(),vertexes:[{x:r,y:l,z:p},{x:a,y:l,z:p},{x:a,y:l,z:h},{x:r,y:l,z:h}],enabled:s.bottom.visible},{fill:F.color(s.bottom.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:f},{x:c,y:d,z:z},{x:r,y:l,z:p},{x:r,y:l,z:h}],enabled:s.bottom.visible&&!s.left.visible},{fill:F.color(s.bottom.color).brighten(-.1).get(),vertexes:[{x:y,y:d,z:z},{x:y,y:d,z:f},{x:a,y:l,z:h},{x:a,y:l,z:p}],enabled:s.bottom.visible&&!s.right.visible},{fill:F.color(s.bottom.color).get(),vertexes:[{x:y,y:d,z:f},{x:c,y:d,z:f},{x:r,y:l,z:h},{x:a,y:l,z:h}],enabled:s.bottom.visible&&!s.front.visible},{fill:F.color(s.bottom.color).get(),vertexes:[{x:c,y:d,z:z},{x:y,y:d,z:z},{x:a,y:l,z:p},{x:r,y:l,z:p}],enabled:s.bottom.visible&&!s.back.visible}]}),this.frameShapes.top[u]({"class":"highcharts-3d-frame highcharts-3d-frame-top",zIndex:s.top.frontFacing?-1e3:1e3,faces:[{fill:F.color(s.top.color).brighten(.1).get(),vertexes:[{x:c,y:x,z:z},{x:y,y:x,z:z},{x:y,y:x,z:f},{x:c,y:x,z:f}],enabled:s.top.visible},{fill:F.color(s.top.color).brighten(.1).get(),vertexes:[{x:r,y:n,z:h},{x:a,y:n,z:h},{x:a,y:n,z:p},{x:r,y:n,z:p}],enabled:s.top.visible},{fill:F.color(s.top.color).brighten(-.1).get(),vertexes:[{x:c,y:x,z:z},{x:c,y:x,z:f},{x:r,y:n,z:h},{x:r,y:n,z:p}],enabled:s.top.visible&&!s.left.visible},{fill:F.color(s.top.color).brighten(-.1).get(),vertexes:[{x:y,y:x,z:f},{x:y,y:x,z:z},{x:a,y:n,z:p},{x:a,y:n,z:h}],enabled:s.top.visible&&!s.right.visible},{fill:F.color(s.top.color).get(),vertexes:[{x:c,y:x,z:f},{x:y,y:x,z:f},{x:a,y:n,z:h},{x:r,y:n,z:h}],enabled:s.top.visible&&!s.front.visible},{fill:F.color(s.top.color).get(),vertexes:[{x:y,y:x,z:z},{x:c,y:x,z:z},{x:r,y:n,z:p},{x:a,y:n,z:p}],enabled:s.top.visible&&!s.back.visible}]}),this.frameShapes.left[u]({"class":"highcharts-3d-frame highcharts-3d-frame-left",zIndex:s.left.frontFacing?-1e3:1e3,faces:[{fill:F.color(s.left.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:f},{x:r,y:l,z:h},{x:r,y:l,z:p},{x:c,y:d,z:z}],enabled:s.left.visible&&!s.bottom.visible},{fill:F.color(s.left.color).brighten(.1).get(),vertexes:[{x:c,y:x,z:z},{x:r,y:n,z:p},{x:r,y:n,z:h},{x:c,y:x,z:f}],enabled:s.left.visible&&!s.top.visible},{fill:F.color(s.left.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:z},{x:c,y:x,z:z},{x:c,y:x,z:f},{x:c,y:d,z:f}],enabled:s.left.visible},{fill:F.color(s.left.color).brighten(-.1).get(),vertexes:[{x:r,y:n,z:p},{x:r,y:l,z:p},{x:r,y:l,z:h},{x:r,y:n,z:h}],enabled:s.left.visible},{fill:F.color(s.left.color).get(),vertexes:[{x:c,y:d,z:f},{x:c,y:x,z:f},{x:r,y:n,z:h},{x:r,y:l,z:h}],enabled:s.left.visible&&!s.front.visible},{fill:F.color(s.left.color).get(),vertexes:[{x:c,y:x,z:z},{x:c,y:d,z:z},{x:r,y:l,z:p},{x:r,y:n,z:p}],enabled:s.left.visible&&!s.back.visible}]}),this.frameShapes.right[u]({"class":"highcharts-3d-frame highcharts-3d-frame-right",zIndex:s.right.frontFacing?-1e3:1e3,faces:[{fill:F.color(s.right.color).brighten(.1).get(),vertexes:[{x:y,y:d,z:z},{x:a,y:l,z:p},{x:a,y:l,z:h},{x:y,y:d,z:f}],enabled:s.right.visible&&!s.bottom.visible},{fill:F.color(s.right.color).brighten(.1).get(),vertexes:[{x:y,y:x,z:f},{x:a,y:n,z:h},{x:a,y:n,z:p},{x:y,y:x,z:z}],enabled:s.right.visible&&!s.top.visible},{fill:F.color(s.right.color).brighten(-.1).get(),vertexes:[{x:a,y:n,z:h},{x:a,y:l,z:h},{x:a,y:l,z:p},{x:a,y:n,z:p}],enabled:s.right.visible},{fill:F.color(s.right.color).brighten(-.1).get(),vertexes:[{x:y,y:d,z:f},{x:y,y:x,z:f},{x:y,y:x,z:z},{x:y,y:d,z:z}],enabled:s.right.visible},{fill:F.color(s.right.color).get(),vertexes:[{x:y,y:x,z:f},{x:y,y:d,z:f},{x:a,y:l,z:h},{x:a,y:n,z:h}],enabled:s.right.visible&&!s.front.visible},{fill:F.color(s.right.color).get(),vertexes:[{x:y,y:d,z:z},{x:y,y:x,z:z},{x:a,y:n,z:p},{x:a,y:l,z:p}],enabled:s.right.visible&&!s.back.visible}]}),this.frameShapes.back[u]({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:s.back.frontFacing?-1e3:1e3,faces:[{fill:F.color(s.back.color).brighten(.1).get(),vertexes:[{x:y,y:d,z:z},{x:c,y:d,z:z},{x:r,y:l,z:p},{x:a,y:l,z:p}],enabled:s.back.visible&&!s.bottom.visible},{fill:F.color(s.back.color).brighten(.1).get(),vertexes:[{x:c,y:x,z:z},{x:y,y:x,z:z},{x:a,y:n,z:p},{x:r,y:n,z:p}],enabled:s.back.visible&&!s.top.visible},{fill:F.color(s.back.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:z},{x:c,y:x,z:z},{x:r,y:n,z:p},{x:r,y:l,z:p}],enabled:s.back.visible&&!s.left.visible},{fill:F.color(s.back.color).brighten(-.1).get(),vertexes:[{x:y,y:x,z:z},{x:y,y:d,z:z},{x:a,y:l,z:p},{x:a,y:n,z:p}],enabled:s.back.visible&&!s.right.visible},{fill:F.color(s.back.color).get(),vertexes:[{x:r,y:n,z:p},{x:a,y:n,z:p},{x:a,y:l,z:p},{x:r,y:l,z:p}],enabled:s.back.visible},{fill:F.color(s.back.color).get(),vertexes:[{x:c,y:d,z:z},{x:y,y:d,z:z},{x:y,y:x,z:z},{x:c,y:x,z:z}],enabled:s.back.visible}]}),this.frameShapes.front[u]({"class":"highcharts-3d-frame highcharts-3d-frame-front",zIndex:s.front.frontFacing?-1e3:1e3,faces:[{fill:F.color(s.front.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:f},{x:y,y:d,z:f},{x:a,y:l,z:h},{x:r,y:l,z:h}],enabled:s.front.visible&&!s.bottom.visible},{fill:F.color(s.front.color).brighten(.1).get(),vertexes:[{x:y,y:x,z:f},{x:c,y:x,z:f},{x:r,y:n,z:h},{x:a,y:n,z:h}],enabled:s.front.visible&&!s.top.visible},{fill:F.color(s.front.color).brighten(-.1).get(),vertexes:[{x:c,y:x,z:f},{x:c,y:d,z:f},{x:r,y:l,z:h},{x:r,y:n,z:h}],enabled:s.front.visible&&!s.left.visible},{fill:F.color(s.front.color).brighten(-.1).get(),vertexes:[{x:y,y:d,z:f},{x:y,y:x,z:f},{x:a,y:n,z:h},{x:a,y:l,z:h}],enabled:s.front.visible&&!s.right.visible},{fill:F.color(s.front.color).get(),vertexes:[{x:a,y:n,z:h},{x:r,y:n,z:h},{x:r,y:l,z:h},{x:a,y:l,z:h}],enabled:s.front.visible},{fill:F.color(s.front.color).get(),vertexes:[{x:y,y:d,z:f},{x:c,y:d,z:f},{x:c,y:x,z:f},{x:y,y:x,z:f}],enabled:s.front.visible}]})}return t.apply(this,[].slice.call(arguments,1))}),t.prototype.retrieveStacks=function(e){var i,o=this.series,s={},r=1;return Y(this.series,function(t){i=Z(t.options.stack,e?0:o.length-1-t.index),s[i]?s[i].series.push(t):(s[i]={series:[t],position:r},r++)}),s.totalStacks=r+1,s},t.prototype.get3dFrame=function(){var a=this,t=a.options.chart.options3d,e=t.frame,i=a.plotLeft,o=a.plotLeft+a.plotWidth,s=a.plotTop,r=a.plotTop+a.plotHeight,n=0,l=t.depth,h=function(t){var e=F.shapeArea3d(t,a);return.5<e?1:e<-.5?-1:0},p=h([{x:i,y:r,z:l},{x:o,y:r,z:l},{x:o,y:r,z:n},{x:i,y:r,z:n}]),c=h([{x:i,y:s,z:n},{x:o,y:s,z:n},{x:o,y:s,z:l},{x:i,y:s,z:l}]),y=h([{x:i,y:s,z:n},{x:i,y:s,z:l},{x:i,y:r,z:l},{x:i,y:r,z:n}]),x=h([{x:o,y:s,z:l},{x:o,y:s,z:n},{x:o,y:r,z:n},{x:o,y:r,z:l}]),d=h([{x:i,y:r,z:n},{x:o,y:r,z:n},{x:o,y:s,z:n},{x:i,y:s,z:n}]),f=h([{x:i,y:s,z:l},{x:o,y:s,z:l},{x:o,y:r,z:l},{x:i,y:r,z:l}]),z=!1,u=!1,b=!1,v=!1,g=!1,m=!0;Y([].concat(a.xAxis,a.yAxis,a.zAxis),function(t){t&&(t.horiz?t.opposite?u=!0:z=!0:t.opposite?v=!0:b=!0)});var M=function(t,e,i){for(var o=["size","color","visible"],s={},r=0;r<o.length;r++)for(var a=o[r],n=0;n<t.length;n++)if("object"==typeof t[n]){var l=t[n][a];if(l!==undefined&&null!==l){s[a]=l;break}}var h=i;return!0===s.visible||!1===s.visible?h=s.visible:"auto"===s.visible&&(h=0<e),{size:Z(s.size,1),color:Z(s.color,"none"),frontFacing:0<e,visible:h}},A={bottom:M([e.bottom,e.top,e],p,z),top:M([e.top,e.bottom,e],c,u),left:M([e.left,e.right,e.side,e],y,b),right:M([e.right,e.left,e.side,e],x,v),back:M([e.back,e.front,e],f,m),front:M([e.front,e.back,e],d,g)};if("auto"===t.axisLabelPosition){var P=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing},k=[];P(A.left,A.front)&&k.push({y:(s+r)/2,x:i,z:n,xDir:{x:1,y:0,z:0}}),P(A.left,A.back)&&k.push({y:(s+r)/2,x:i,z:l,xDir:{x:0,y:0,z:-1}}),P(A.right,A.front)&&k.push({y:(s+r)/2,x:o,z:n,xDir:{x:0,y:0,z:1}}),P(A.right,A.back)&&k.push({y:(s+r)/2,x:o,z:l,xDir:{x:-1,y:0,z:0}});var L=[];P(A.bottom,A.front)&&L.push({x:(i+o)/2,y:r,z:n,xDir:{x:1,y:0,z:0}}),P(A.bottom,A.back)&&L.push({x:(i+o)/2,y:r,z:l,xDir:{x:-1,y:0,z:0}});var S=[];P(A.top,A.front)&&S.push({x:(i+o)/2,y:s,z:n,xDir:{x:1,y:0,z:0}}),P(A.top,A.back)&&S.push({x:(i+o)/2,y:s,z:l,xDir:{x:-1,y:0,z:0}});var I=[];P(A.bottom,A.left)&&I.push({z:(n+l)/2,y:r,x:i,xDir:{x:0,y:0,z:-1}}),P(A.bottom,A.right)&&I.push({z:(n+l)/2,y:r,x:o,xDir:{x:0,y:0,z:1}});var w=[];P(A.top,A.left)&&w.push({z:(n+l)/2,y:s,x:i,xDir:{x:0,y:0,z:-1}}),P(A.top,A.right)&&w.push({z:(n+l)/2,y:s,x:o,xDir:{x:0,y:0,z:1}});var D=function(t,e,i){if(0===t.length)return null;if(1===t.length)return t[0];for(var o=0,s=X(t,a,!1),r=1;r<s.length;r++)i*s[r][e]>i*s[o][e]?o=r:i*s[r][e]==i*s[o][e]&&s[r].z<s[o].z&&(o=r);return t[o]};A.axes={y:{left:D(k,"x",-1),right:D(k,"x",1)},x:{top:D(S,"y",-1),bottom:D(L,"y",1)},z:{top:D(w,"y",-1),bottom:D(I,"y",1)}}}else A.axes={y:{left:{x:i,z:n,xDir:{x:1,y:0,z:0}},right:{x:o,z:n,xDir:{x:0,y:0,z:1}}},x:{top:{y:s,z:n,xDir:{x:1,y:0,z:0}},bottom:{y:r,z:n,xDir:{x:1,y:0,z:0}}},z:{top:{x:b?o:i,y:s,xDir:b?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:b?o:i,y:r,xDir:b?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return A},F.Fx.prototype.matrixSetter=function(){var t;if(this.pos<1&&(F.isArray(this.start)||F.isArray(this.end))){var e=this.start||[1,0,0,1,0,0],i=this.end||[1,0,0,1,0,0];t=[];for(var o=0;o<6;o++)t.push(this.pos*i[o]+(1-this.pos)*e[o])}else t=this.end;this.elem.attr(this.prop,t,null,!0)}}(t),function(t){function o(t,e,i){if(!t.chart.is3d()||"colorAxis"===t.coll)return e;var o,s=t.chart,r=L*s.options.chart.options3d.alpha,a=L*s.options.chart.options3d.beta,n=I(i&&t.options.title.position3d,t.options.labels.position3d),l=I(i&&t.options.title.skew3d,t.options.labels.skew3d),h=s.frame3d,p=s.plotLeft,c=s.plotWidth+p,y=s.plotTop,x=s.plotHeight+y,d=!1,f=0,z=0,u={x:0,y:1,z:0};if(e=t.swapZ({x:e.x,y:e.y,z:0}),t.isZAxis)if(t.opposite){if(null===h.axes.z.top)return{};z=e.y-y,e.x=h.axes.z.top.x,e.y=h.axes.z.top.y,o=h.axes.z.top.xDir,d=!h.top.frontFacing}else{if(null===h.axes.z.bottom)return{};z=e.y-x,e.x=h.axes.z.bottom.x,e.y=h.axes.z.bottom.y,o=h.axes.z.bottom.xDir,d=!h.bottom.frontFacing}else if(t.horiz)if(t.opposite){if(null===h.axes.x.top)return{};z=e.y-y,e.y=h.axes.x.top.y,e.z=h.axes.x.top.z,o=h.axes.x.top.xDir,d=!h.top.frontFacing}else{if(null===h.axes.x.bottom)return{};z=e.y-x,e.y=h.axes.x.bottom.y,e.z=h.axes.x.bottom.z,o=h.axes.x.bottom.xDir,d=!h.bottom.frontFacing}else if(t.opposite){if(null===h.axes.y.right)return{};f=e.x-c,e.x=h.axes.y.right.x,e.z=h.axes.y.right.z,o={x:(o=h.axes.y.right.xDir).z,y:o.y,z:-o.x}}else{if(null===h.axes.y.left)return{};f=e.x-p,e.x=h.axes.y.left.x,e.z=h.axes.y.left.z,o=h.axes.y.left.xDir}if("chart"===n);else if("flap"===n)if(t.horiz){var b=Math.sin(r),v=Math.cos(r);t.opposite&&(b=-b),d&&(b=-b),u={x:o.z*b,y:v,z:-o.x*b}}else o={x:Math.cos(a),y:0,z:Math.sin(a)};else if("ortho"===n)if(t.horiz){var g=Math.sin(r),m=Math.cos(r),M={x:Math.sin(a)*m,y:-g,z:-m*Math.cos(a)};u={x:o.y*M.z-o.z*M.y,y:o.z*M.x-o.x*M.z,z:o.x*M.y-o.y*M.x};var A=1/Math.sqrt(u.x*u.x+u.y*u.y+u.z*u.z);d&&(A=-A),u={x:A*u.x,y:A*u.y,z:A*u.z}}else o={x:Math.cos(a),y:0,z:Math.sin(a)};else t.horiz?u={x:Math.sin(a)*Math.sin(r),y:Math.cos(r),z:-Math.cos(a)*Math.sin(r)}:o={x:Math.cos(a),y:0,z:Math.sin(a)};e.x+=f*o.x+z*u.x,e.y+=f*o.y+z*u.y,e.z+=f*o.z+z*u.z;var P=S([e],t.chart)[0];if(l){w(S([e,{x:e.x+o.x,y:e.y+o.y,z:e.z+o.z},{x:e.x+u.x,y:e.y+u.y,z:e.z+u.z}],t.chart))<0&&(o={x:-o.x,y:-o.y,z:-o.z});var k=S([{x:e.x,y:e.y,z:e.z},{x:e.x+o.x,y:e.y+o.y,z:e.z+o.z},{x:e.x+u.x,y:e.y+u.y,z:e.z+u.z}],t.chart);P.matrix=[k[1].x-k[0].x,k[1].y-k[0].y,k[2].x-k[0].x,k[2].y-k[0].y,P.x,P.y],P.matrix[4]-=P.x*P.matrix[0]+P.y*P.matrix[2],P.matrix[5]-=P.x*P.matrix[1]+P.y*P.matrix[3]}else P.matrix=null;return P}var s,e=t.Axis,i=t.Chart,L=t.deg2rad,r=t.each,a=t.extend,n=t.merge,S=t.perspective,I=t.pick,w=t.shapeArea,l=t.splat,h=t.Tick,p=t.wrap,c={labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}};n(!0,e.prototype.defaultOptions,c),p(e.prototype,"setOptions",function(t,e){var i;t.call(this,e),this.chart.is3d&&this.chart.is3d()&&"colorAxis"!==this.coll&&((i=this.options).tickWidth=I(i.tickWidth,0),i.gridLineWidth=I(i.gridLineWidth,1))}),p(e.prototype,"getPlotLinePath",function(t){var e=t.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||"colorAxis"===this.coll)return e;if(null===e)return e;var i=this.chart,o=i.options.chart.options3d,s=this.isZAxis?i.plotWidth:o.depth,r=i.frame3d,a=[this.swapZ({x:e[1],y:e[2],z:0}),this.swapZ({x:e[1],y:e[2],z:s}),this.swapZ({x:e[4],y:e[5],z:0}),this.swapZ({x:e[4],y:e[5],z:s})],n=[];return this.horiz?(this.isZAxis?(r.left.visible&&n.push(a[0],a[2]),r.right.visible&&n.push(a[1],a[3])):(r.front.visible&&n.push(a[0],a[2]),r.back.visible&&n.push(a[1],a[3])),r.top.visible&&n.push(a[0],a[1]),r.bottom.visible&&n.push(a[2],a[3])):(r.front.visible&&n.push(a[0],a[2]),r.back.visible&&n.push(a[1],a[3]),r.left.visible&&n.push(a[0],a[1]),r.right.visible&&n.push(a[2],a[3])),n=S(n,this.chart,!1),this.chart.renderer.toLineSegments(n)}),p(e.prototype,"getLinePath",function(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))}),p(e.prototype,"getPlotBandPath",function(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));var e=arguments,i=e[1],o=e[2],s=[],r=this.getPlotLinePath(i),a=this.getPlotLinePath(o);if(r&&a)for(var n=0;n<r.length;n+=6)s.push("M",r[n+1],r[n+2],"L",r[n+4],r[n+5],"L",a[n+4],a[n+5],"L",a[n+1],a[n+2],"Z");return s}),p(h.prototype,"getMarkPath",function(t){var e=t.apply(this,[].slice.call(arguments,1)),i=[o(this.axis,{x:e[1],y:e[2],z:0}),o(this.axis,{x:e[4],y:e[5],z:0})];return this.axis.chart.renderer.toLineSegments(i)}),p(h.prototype,"getLabelPosition",function(t){var e=t.apply(this,[].slice.call(arguments,1));return o(this.axis,e)}),p(e.prototype,"getTitlePosition",function(t){return o(this,t.apply(this,[].slice.call(arguments,1)),!0)}),p(e.prototype,"drawCrosshair",function(t){var e=arguments;this.chart.is3d()&&"colorAxis"!==this.coll&&e[2]&&(e[2]={plotX:e[2].plotXold||e[2].plotX,plotY:e[2].plotYold||e[2].plotY}),t.apply(this,[].slice.call(e,1))}),p(e.prototype,"destroy",function(t){r(["backFrame","bottomFrame","sideFrame"],function(t){this[t]&&(this[t]=this[t].destroy())},this),t.apply(this,[].slice.call(arguments,1))}),e.prototype.swapZ=function(t,e){if(this.isZAxis){var i=e?0:this.chart.plotLeft;return{x:i+t.z,y:t.y,z:t.x-i}}return t},a((s=t.ZAxis=function(){this.init.apply(this,arguments)}).prototype,e.prototype),a(s.prototype,{isZAxis:!0,setOptions:function(t){t=n({offset:0,lineWidth:0},t),e.prototype.setOptions.call(this,t),this.coll="zAxis"},setAxisSize:function(){e.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var o=this,s=o.chart;o.hasVisibleSeries=!1,o.dataMin=o.dataMax=o.ignoreMinPadding=o.ignoreMaxPadding=null,o.buildStacks&&o.buildStacks(),r(o.series,function(t){if(t.visible||!s.options.chart.ignoreHiddenSeries){var e,i=t.options.threshold;o.hasVisibleSeries=!0,o.positiveValuesOnly&&i<=0&&(i=null),(e=t.zData).length&&(o.dataMin=Math.min(I(o.dataMin,e[0]),Math.min.apply(null,e)),o.dataMax=Math.max(I(o.dataMax,e[0]),Math.max.apply(null,e)))}})}}),p(i.prototype,"getAxes",function(t){var i=this,e=this.options,o=e.zAxis=l(e.zAxis||{});t.call(this),i.is3d()&&(this.zAxis=[],r(o,function(t,e){t.index=e,t.isX=!0,new s(i,t).setScale()}))})}(t),h=(e=t).perspective,p=e.pick,(0,e.wrap)(e.Series.prototype,"translate",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dPoints()}),e.Series.prototype.translate3dPoints=function(){var t,e,i,o,s,r=this,a=r.chart,n=p(r.zAxis,a.options.zAxis[0]),l=[];for(s=0;s<r.data.length;s++)t=r.data[s],n&&n.translate&&(o=n.isLog&&n.val2lin?n.val2lin(t.z):t.z,t.plotZ=n.translate(o),t.isInside=!!t.isInside&&o>=n.min&&o<=n.max),l.push({x:p(t.plotXold,t.plotX),y:p(t.plotYold,t.plotY),z:p(t.plotZold,t.plotZ)});for(e=h(l,a,!0),s=0;s<r.data.length;s++)t=r.data[s],i=e[s],t.plotXold=t.plotX,t.plotYold=t.plotY,t.plotZold=t.plotZ,t.plotX=i.x,t.plotY=i.y,t.plotZ=i.z},function(s){function t(t){var e=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(e.stroke=this.options.edgeColor||e.fill,e["stroke-width"]=c(this.options.edgeWidth,1)),e}var h=s.each,p=s.perspective,c=s.pick,e=s.Series,i=s.seriesTypes,r=s.inArray,a=s.svg,o=s.wrap;o(i.column.prototype,"translate",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}),i.column.prototype.translate3dPoints=function(){},i.column.prototype.translate3dShapes=function(){var s=this,r=s.chart,t=s.options,a=t.depth||25,n=(t.stacking?t.stack||0:s.index)*(a+(t.groupZPadding||1)),l=s.borderWidth%2?.5:0;r.inverted&&!s.yAxis.reversed&&(l*=-1),!1!==t.grouping&&(n=0),n+=t.groupZPadding||1,h(s.data,function(t){if(null!==t.y){var i,o=t.shapeArgs,e=t.tooltipPos;h([["x","width"],["y","height"]],function(t){if((i=o[t[0]]-l)<0&&(o[t[1]]+=o[t[0]]+l,o[t[0]]=-l,i=0),i+o[t[1]]>s[t[0]+"Axis"].len&&0!==o[t[1]]&&(o[t[1]]=s[t[0]+"Axis"].len-o[t[0]]),0!==o[t[1]]&&(o[t[0]]>=s[t[0]+"Axis"].len||o[t[0]]+o[t[1]]<=l))for(var e in o)o[e]=0}),t.shapeType="cuboid",o.z=n,o.depth=a,o.insidePlotArea=!0,e=p([{x:e[0],y:e[1],z:n}],r,!0)[0],t.tooltipPos=[e.x,e.y]}}),s.z=n},o(i.column.prototype,"animate",function(t){if(this.chart.is3d()){var e=arguments[1],i=this.yAxis,o=this,s=this.yAxis.reversed;a&&(e?h(o.data,function(t){null!==t.y&&(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,s||(t.stackY?t.shapeArgs.y=t.plotY+i.translate(t.stackY):t.shapeArgs.y=t.plotY+(t.negative?-t.height:t.height)))}):(h(o.data,function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic.animate(t.shapeArgs,o.options.animation))}),this.drawDataLabels(),o.animate=null))}else t.apply(this,[].slice.call(arguments,1))}),o(i.column.prototype,"plotGroup",function(t,e,i,o,s,r){return this.chart.is3d()&&r&&!this[e]&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(r)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0),t.apply(this,Array.prototype.slice.call(arguments,1))}),o(i.column.prototype,"setVisible",function(t,e){var i,o=this;o.chart.is3d()&&h(o.data,function(t){t.visible=t.options.visible=e=e===undefined?!t.visible:e,i=e?"visible":"hidden",o.options.data[r(t,o.data)]=t.options,t.graphic&&t.graphic.attr({visibility:i})}),t.apply(this,Array.prototype.slice.call(arguments,1))}),o(i.column.prototype,"init",function(t){if(t.apply(this,[].slice.call(arguments,1)),
this.chart.is3d()){var e=this.options,i=e.grouping,o=e.stacking,s=c(this.yAxis.options.reversedStacks,!0),r=0;if(i===undefined||i){var a,n=this.chart.retrieveStacks(o),l=e.stack||0;for(a=0;a<n[l].series.length&&n[l].series[a]!==this;a++);r=10*(n.totalStacks-n[l].position)+(s?a:-a),this.xAxis.reversed||(r=10*n.totalStacks-r)}e.zIndex=r}}),o(i.column.prototype,"pointAttribs",t),i.columnrange&&(o(i.columnrange.prototype,"pointAttribs",t),i.columnrange.prototype.plotGroup=i.column.prototype.plotGroup,i.columnrange.prototype.setVisible=i.column.prototype.setVisible),o(e.prototype,"alignDataLabel",function(t){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var e=this,i=e.chart,o=arguments[4],s={x:o.x,y:o.y,z:e.z};s=p([s],i,!0)[0],o.x=s.x,o.y=s.y}t.apply(this,[].slice.call(arguments,1))}),o(s.StackItem.prototype,"getStackBox",function(t,e){var i=t.apply(this,[].slice.call(arguments,1));if(e.is3d()){var o={x:i.x,y:i.y,z:0};o=s.perspective([o],e,!0)[0],i.x=o.x,i.y=o.y}return i})}(t),c=(i=t).deg2rad,y=i.each,r=i.pick,o=i.seriesTypes,n=i.svg,(s=i.wrap)(o.pie.prototype,"translate",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var o=this,s=o.options,r=s.depth||0,e=o.chart.options.chart.options3d,a=e.alpha,n=e.beta,l=s.stacking?(s.stack||0)*r:o._i*r;l+=r/2,!1!==s.grouping&&(l=0),y(o.data,function(t){var e,i=t.shapeArgs;t.shapeType="arc3d",i.z=l,i.depth=.75*r,i.alpha=a,i.beta=n,i.center=o.center,e=(i.end+i.start)/2,t.slicedTranslation={translateX:Math.round(Math.cos(e)*s.slicedOffset*Math.cos(a*c)),translateY:Math.round(Math.sin(e)*s.slicedOffset*Math.cos(a*c))}})}}),s(o.pie.prototype.pointClass.prototype,"haloPath",function(t){var e=arguments;return this.series.chart.is3d()?[]:t.call(this,e[1])}),s(o.pie.prototype,"pointAttribs",function(t,e,i){var o=t.call(this,e,i),s=this.options;return this.chart.is3d()&&(o.stroke=s.edgeColor||e.color||this.color,o["stroke-width"]=r(s.edgeWidth,1)),o}),s(o.pie.prototype,"drawPoints",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&y(this.points,function(t){var e=t.graphic;e&&e[t.y&&t.visible?"show":"hide"]()})}),s(o.pie.prototype,"drawDataLabels",function(t){if(this.chart.is3d()){var e=this,p=e.chart.options.chart.options3d;y(e.data,function(t){var e=t.shapeArgs,i=e.r,o=(e.alpha||p.alpha)*c,s=(e.beta||p.beta)*c,r=(e.start+e.end)/2,a=t.labelPos,n=[0,2,4],l=-i*(1-Math.cos(o))*Math.sin(r),h=i*(Math.cos(s)-1)*Math.cos(r);y(n,function(t){a[t]+=h,a[t+1]+=l})})}t.apply(this,[].slice.call(arguments,1))}),s(o.pie.prototype,"addPoint",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),s(o.pie.prototype,"animate",function(t){if(this.chart.is3d()){var e,i=argument_1,o=this.options.animation,s=this.center,r=this.group,a=this.markerGroup;n&&(!0===o&&(o={}),i?(r.oldtranslateX=r.translateX,r.oldtranslateY=r.translateY,e={translateX:s[0],translateY:s[1],scaleX:.001,scaleY:.001},r.attr(e),a&&(a.attrSetters=r.attrSetters,a.attr(e))):(e={translateX:r.oldtranslateX,translateY:r.oldtranslateY,scaleX:1,scaleY:1},r.animate(e,o),a&&a.animate(e,o),this.animate=null))}else t.apply(this,[].slice.call(arguments,1))}),l=(a=t).Point,x=a.seriesType,d=a.seriesTypes,x("scatter3d","scatter",{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}},{pointAttribs:function(t){var e=d.scatter.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(e.zIndex=a.pointCameraDistance(t,this.chart)),e},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:!0},{applyOptions:function(){return l.prototype.applyOptions.apply(this,arguments),this.z===undefined&&(this.z=0),this}}),z=(f=t).Axis,u=f.SVGRenderer,(b=f.VMLRenderer)&&(f.setOptions({animate:!1}),b.prototype.face3d=u.prototype.face3d,b.prototype.polyhedron=u.prototype.polyhedron,b.prototype.cuboid=u.prototype.cuboid,b.prototype.cuboidPath=u.prototype.cuboidPath,b.prototype.toLinePath=u.prototype.toLinePath,b.prototype.toLineSegments=u.prototype.toLineSegments,b.prototype.createElement3D=u.prototype.createElement3D,b.prototype.arc3d=function(t){var e=u.prototype.arc3d.call(this,t);return e.css({zIndex:e.zIndex}),e},f.VMLRenderer.prototype.arc3dPath=f.SVGRenderer.prototype.arc3dPath,f.wrap(z.prototype,"render",function(t){t.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))});