"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var a,e,b,i,l;e=(a=t).Chart,b=a.each,i=a.objectEach,l=a.pick,(0,a.addEvent)(e.prototype,"render",function n(){var n=[];b(this.labelCollectors||[],function(t){n=n.concat(t())}),b(this.yAxis||[],function(t){t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&i(t.stacks,function(t){i(t,function(t){n.push(t.label)})})}),b(this.series||[],function(t){var a=t.options.dataLabels,e=t.dataLabelCollections||["dataLabel"];(a.enabled||t._hasPointLabels)&&!a.allowOverlap&&t.visible&&b(e,function(a){b(t.points,function(t){t[a]&&(t[a].labelrank=l(t.labelrank,t.shapeArgs&&t.shapeArgs.height),n.push(t[a]))})})}),this.hideOverlappingLabels(n)}),e.prototype.hideOverlappingLabels=function(t){var a,e,n,i,l,o,r,s,c,p,h,d=t.length,u=function(t,a,e,n,i,l,o,r){return!(t+e<i||i+o<t||a+n<l||l+r<a)};for(e=0;e<d;e++)(a=t[e])&&(a.oldOpacity=a.opacity,a.newOpacity=1,a.width||(h=a.getBBox(),a.width=h.width,a.height=h.height));for(t.sort(function(t,a){return(a.labelrank||0)-(t.labelrank||0)}),e=0;e<d;e++)for(i=t[e],n=e+1;n<d;++n)l=t[n],i&&l&&i!==l&&i.placed&&l.placed&&0!==i.newOpacity&&0!==l.newOpacity&&(o=i.alignAttr,r=l.alignAttr,s=i.parentGroup,c=l.parentGroup,p=2*(i.box?0:i.padding||0),u(o.x+s.translateX,o.y+s.translateY,i.width-p,i.height-p,r.x+c.translateX,r.y+c.translateY,l.width-p,l.height-p)&&((i.labelrank<l.labelrank?i:l).newOpacity=0));b(t,function(t){var a,e;t&&(e=t.newOpacity,t.oldOpacity!==e&&t.placed&&(e?t.show(!0):a=function(){t.hide()},t.alignAttr.opacity=e,t[t.isOld?"animate":"attr"](t.alignAttr,null,a)),t.isOld=!0)})}});