"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var a,o,h,e,k,D,T,A,i,c,m,r,C,n,x,s,l,p,d,w,P,v,b,E,u,S,g,f,y,M,B,O,L,z,I,R,W,X,G,H,Y,N,F,U,V,_,j,Z,K,q;o=(a=t).addEvent,h=a.Axis,e=a.Chart,k=a.css,D=a.dateFormat,T=a.defined,A=a.each,i=a.extend,c=a.noop,m=a.pick,r=a.Series,C=a.timeUnits,(n=a.wrap)(r.prototype,"init",function(t){var e,i=this;t.apply(this,Array.prototype.slice.call(arguments,1)),(e=i.xAxis)&&e.options.ordinal&&o(i,"updatedData",function(){delete e.ordinalIndex})}),n(h.prototype,"getTimeTicks",function(t,e,i,o,r,a,n,s){var l,h,c,p,d,u,g=0,f={},x=[],m=-Number.MAX_VALUE,v=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!a||a.length<3||i===undefined)return t.call(this,e,i,o,r);for(d=a.length,l=0;l<d;l++){if(u=l&&a[l-1]>o,a[l]<i&&(g=l),l===d-1||a[l+1]-a[l]>5*n||u){if(a[l]>m){for(h=t.call(this,e,a[g],a[l],r);h.length&&h[0]<=m;)h.shift();h.length&&(m=h[h.length-1]),x=x.concat(h)}g=l+1}if(u)break}if(p=h.info,s&&p.unitRange<=C.hour){for(l=x.length-1,g=1;g<l;g++)D("%d",x[g])!==D("%d",x[g-1])&&(f[x[g]]="day",c=!0);c&&(f[x[0]]="day"),p.higherRanks=f}if(x.info=p,s&&T(v)){for(var b,y,M,k,A,w=x.length,S=w,B=[],P=[];S--;)y=this.translate(x[S]),M&&(P[S]=M-y),B[S]=M=y;for(P.sort(),(k=P[Math.floor(P.length/2)])<.6*v&&(k=null),S=x[w-1]>o?w-1:w,M=undefined;S--;)y=B[S],A=Math.abs(M-y),M&&A<.8*v&&(null===k||A<.8*k)?(f[x[S]]&&!f[x[S+1]]?(b=S+1,M=y):b=S,x.splice(b,1)):M=y}return x}),i(h.prototype,{beforeSetTickPositions:function(){var i,t,e,o,r,a,n=this,s=[],l=!1,h=n.getExtremes(),c=h.min,p=h.max,d=n.isXAxis&&!!n.options.breaks,u=n.options.ordinal,g=Number.MAX_VALUE,f=n.chart.options.chart.ignoreHiddenSeries,x="highcharts-navigator-xaxis"===n.options.className;if(!n.options.overscroll||n.max!==n.dataMax||n.chart.mouseIsDown&&!x||n.eventArgs&&(!n.eventArgs||"navigator"===n.eventArgs.trigger)||(n.max+=n.options.overscroll,!x&&T(n.userMin)&&(n.min+=n.options.overscroll)),u||d){if(A(n.series,function(t,e){if((!f||!1!==t.visible)&&(!1!==t.takeOrdinalPosition||d)&&(s=s.concat(t.processedXData),i=s.length,s.sort(function(t,e){return t-e}),g=Math.min(g,m(t.closestPointRange,g)),i))for(e=i-1;e--;)s[e]===s[e+1]&&s.splice(e,1)}),2<(i=s.length)){for(t=s[1]-s[0],a=i-1;a--&&!l;)s[a+1]-s[a]!==t&&(l=!0);!n.options.keepOrdinalPadding&&(s[0]-c>t||p-s[s.length-1]>t)&&(l=!0)}else n.options.overscroll&&(2===i?g=s[1]-s[0]:1===i?(g=n.options.overscroll,s=[s[0],s[0]+g]):g=n.overscrollPointsRange);l?(n.options.overscroll&&(n.overscrollPointsRange=g,s=s.concat(n.getOverscrollPositions())),n.ordinalPositions=s,e=n.ordinal2lin(Math.max(c,s[0]),!0),o=Math.max(n.ordinal2lin(Math.min(p,s[s.length-1]),!0),1),n.ordinalSlope=r=(p-c)/(o-e),n.ordinalOffset=c-e*r):(n.overscrollPointsRange=m(n.closestPointRange,n.overscrollPointsRange),n.ordinalPositions=n.ordinalSlope=n.ordinalOffset=undefined)}n.isOrdinal=u&&l,n.groupIntervalFactor=null},val2lin:function(t,e){var i,o=this,r=o.ordinalPositions;if(r){var a,n,s=r.length;for(a=s;a--;)if(r[a]===t){n=a;break}for(a=s-1;a--;)if(t>r[a]||0===a){n=a+(t-r[a])/(r[a+1]-r[a]);break}i=e?n:o.ordinalSlope*(n||0)+o.ordinalOffset}else i=t;return i},lin2val:function(t,e){var i=this,o=i.ordinalPositions;if(o){var r,a,n=i.ordinalSlope,s=i.ordinalOffset,l=o.length-1;if(e)t<0?t=o[0]:l<t?t=o[l]:a=t-(l=Math.floor(t));else for(;l--;)if((r=n*l+s)<=t){a=(t-r)/(n*(l+1)+s-r);break}return a!==undefined&&o[l]!==undefined?o[l]+(a?a*(o[l+1]-o[l]):0):t}return t},getExtendedPositions:function(){var e,i,o=this,r=o.chart,a=o.series[0].currentDataGrouping,t=o.ordinalIndex,n=a?a.count+a.unitName:"raw",s=o.options.overscroll,l=o.getExtremes();return t||(t=o.ordinalIndex={}),t[n]||(e={series:[],chart:r,getExtremes:function(){return{min:l.dataMin,max:l.dataMax+s}},options:{ordinal:!0},val2lin:h.prototype.val2lin,ordinal2lin:h.prototype.ordinal2lin},A(o.series,function(t){(i={xAxis:e,xData:t.xData.slice(),chart:r,destroyGroupedData:c}).xData=i.xData.concat(o.getOverscrollPositions()),i.options={dataGrouping:a?{enabled:!0,forced:!0,approximation:"open",units:[[a.unitName,[a.count]]]}:{enabled:!1}},t.processData.apply(i),e.series.push(i)}),o.beforeSetTickPositions.apply(e),t[n]=e.ordinalPositions),t[n]},getOverscrollPositions:function(){var t=this,e=t.options.overscroll,i=t.overscrollPointsRange,o=[],r=t.dataMax;if(a.defined(i))for(o.push(r);r<=t.dataMax+e;)r+=i,o.push(r);return o},getGroupIntervalFactor:function(t,e,i){var o,r,a=i.processedXData,n=a.length,s=[],l=this.groupIntervalFactor;if(!l){for(o=0;o<n-1;o++)s[o]=a[o+1]-a[o];s.sort(function(t,e){return t-e}),r=s[Math.floor(n/2)],t=Math.max(t,a[0]),e=Math.min(e,a[n-1]),this.groupIntervalFactor=l=n*r/(e-t)}return l},postProcessTickInterval:function(t){var e=this.ordinalSlope;return e?this.options.breaks?this.closestPointRange||t:t/(e/this.closestPointRange):t}}),h.prototype.ordinal2lin=h.prototype.val2lin,n(e.prototype,"pan",function(t,e){var i=this,o=i.xAxis[0],r=o.options.overscroll,a=e.chartX,n=!1;if(o.options.ordinal&&o.series.length){var s,l,h,c,p=i.mouseDownX,d=o.getExtremes(),u=d.dataMax,g=d.min,f=d.max,x=i.hoverPoints,m=o.closestPointRange||o.overscrollPointsRange,v=(p-a)/(o.translationSlope*(o.ordinalSlope||m)),b={ordinalPositions:o.getExtendedPositions()},y=o.lin2val,M=o.val2lin;b.ordinalPositions?1<Math.abs(v)&&(x&&A(x,function(t){t.setState()}),v<0?(h=b,c=o.ordinalPositions?o:b):(h=o.ordinalPositions?o:b,c=b),u>(l=c.ordinalPositions)[l.length-1]&&l.push(u),i.fixedRange=f-g,(s=o.toFixedRange(null,null,y.apply(h,[M.apply(h,[g,!0])+v,!0]),y.apply(c,[M.apply(c,[f,!0])+v,!0]))).min>=Math.min(d.dataMin,g)&&s.max<=Math.max(u,f)+r&&o.setExtremes(s.min,s.max,!0,!1,{trigger:"pan"}),i.mouseDownX=a,k(i.container,{cursor:"move"})):n=!0}else n=!0;n&&(r&&(o.max=o.dataMax+r),t.apply(this,Array.prototype.slice.call(arguments,1)))}),function(a){function l(){return Array.prototype.slice.call(arguments,1)}function t(t){t.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,u(this.pointArrayMap,["y"]))}var u=a.pick,e=a.wrap,g=a.each,i=a.extend,r=a.isArray,f=a.fireEvent,x=a.Axis,o=a.Series;i(x.prototype,{isInBreak:function(t,e){var i=t.repeat||Infinity,o=t.from,r=t.to-t.from,a=o<=e?(e-o)%i:i-(o-e)%i;return t.inclusive?a<=r:a<r&&0!==a},isInAnyBreak:function(t,e){var i,o,r,a=this.options.breaks,n=a&&a.length;if(n){for(;n--;)this.isInBreak(a[n],t)&&(i=!0,o||(o=u(a[n].showPoints,!this.isXAxis)));r=i&&e?i&&!o:i}return r}}),e(x.prototype,"setTickPositions",function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var e,i=this,o=this.tickPositions,r=this.tickPositions.info,a=[];for(e=0;e<o.length;e++)i.isInAnyBreak(o[e])||a.push(o[e]);this.tickPositions=a,this.tickPositions.info=r}}),e(x.prototype,"init",function(t,e,i){var o,d=this;i.breaks&&i.breaks.length&&(i.ordinal=!1),t.call(this,e,i),o=this.options.breaks,d.isBroken=r(o)&&!!o.length,d.isBroken&&(d.val2lin=function(t){var e,i,o=t;for(i=0;i<d.breakArray.length;i++)if((e=d.breakArray[i]).to<=t)o-=e.len;else{if(e.from>=t)break;if(d.isInBreak(e,t)){o-=t-e.from;break}}return o},d.lin2val=function(t){var e,i,o=t;for(i=0;i<d.breakArray.length&&!((e=d.breakArray[i]).from>=o);i++)e.to<o?o+=e.len:d.isInBreak(e,o)&&(o+=e.len);return o},d.setExtremes=function(t,e,i,o,r){for(;this.isInAnyBreak(t);)t-=this.closestPointRange;for(;this.isInAnyBreak(e);)e-=this.closestPointRange;x.prototype.setExtremes.call(this,t,e,i,o,r)},d.setAxisTranslation=function(t){x.prototype.setAxisTranslation.call(this,t);var e,i,o,r,a=d.options.breaks,n=[],s=[],l=0,h=d.userMin||d.min,c=d.userMax||d.max,p=u(d.pointRangePadding,0);g(a,function(t){i=t.repeat||Infinity,d.isInBreak(t,h)&&(h+=t.to%i-h%i),d.isInBreak(t,c)&&(c-=c%i-t.from%i)}),g(a,function(t){for(o=t.from,i=t.repeat||Infinity;h<o-i;)o-=i;for(;o<h;)o+=i;for(r=o;r<c;r+=i)n.push({value:r,move:"in"}),n.push({value:r+(t.to-t.from),move:"out",size:t.breakSize})}),n.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),e=0,o=h,g(n,function(t){1===(e+="in"===t.move?1:-1)&&"in"===t.move&&(o=t.value),0===e&&(s.push({from:o,to:t.value,len:t.value-o-(t.size||0)}),l+=t.value-o-(t.size||0))}),d.breakArray=s,d.unitLength=c-h-l+p,f(d,"afterBreaks"),d.options.staticScale?d.transA=d.options.staticScale:d.unitLength&&(d.transA*=(c-d.min+p)/d.unitLength),p&&(d.minPixelPadding=d.transA*d.minPointOffset),d.min=h,d.max=c})}),e(o.prototype,"generatePoints",function(t){t.apply(this,l(arguments));var e,i=this,o=i.xAxis,r=i.yAxis,a=i.points,n=a.length,s=i.options.connectNulls;if(o&&r&&(o.options.breaks||r.options.breaks))for(;n--;)null===(e=a[n]).y&&!1===s||!o.isInAnyBreak(e.x,!0)&&!r.isInAnyBreak(e.y,!0)||(a.splice(n,1),this.data[n]&&this.data[n].destroyElements())}),a.Series.prototype.drawBreaks=function(i,t){var o,r,a,n,e=this,s=e.points;i&&g(t,function(t){o=i.breakArray||[],r=i.isXAxis?i.min:u(e.options.threshold,i.min),g(s,function(e){n=u(e["stack"+t.toUpperCase()],e[t]),g(o,function(t){a=!1,r<t.from&&n>t.to||r>t.from&&n<t.from?a="pointBreak":(r<t.from&&n>t.from&&n<t.to||r>t.from&&n>t.to&&n<t.from)&&(a="pointInBreak"),a&&f(i,a,{point:e,brk:t})})})})},a.Series.prototype.gappedPath=function(){var t,e=this.options.gapSize,i=this.points.slice(),o=i.length-1,r=this.yAxis;if(e&&0<o)for("value"!==this.options.gapUnit&&(e*=this.closestPointRange);o--;)i[o+1].x-i[o].x>e&&(t=(i[o].x+i[o+1].x)/2,i.splice(o+1,0,{isNull:!0,x:t}),this.options.stacking&&((r.stacks[this.stackKey][t]=new a.StackItem(r,r.options.stackLabels,!1,t,this.stack)).total=0));return this.getGraphPath(i)},e(a.seriesTypes.column.prototype,"drawPoints",t),e(a.Series.prototype,"drawPoints",t)}(t),s=(x=t).arrayMax,l=x.arrayMin,p=x.Axis,d=x.defaultPlotOptions,w=x.defined,P=x.each,v=x.extend,b=x.format,E=x.isNumber,u=x.merge,S=x.pick,g=x.Point,f=x.Series,y=x.Tooltip,M=x.wrap,B=f.prototype,O=B.processData,L=B.generatePoints,z=B.destroy,I={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},R={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},W=x.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],X=x.approximations={sum:function(t){var e,i=t.length;if(!i&&t.hasNulls)e=null;else if(i)for(e=0;i--;)e+=t[i];return e},average:function(t){var e=t.length,i=X.sum(t);return E(i)&&e&&(i/=e),i},averages:function(){var e=[];return P(arguments,function(t){e.push(X.average(t))}),e[0]===undefined?undefined:e},open:function(t){return t.length?t[0]:t.hasNulls?null:undefined},high:function(t){return t.length?s(t):t.hasNulls?null:undefined},low:function(t){return t.length?l(t):t.hasNulls?null:undefined},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:undefined},ohlc:function(t,e,i,o){if(t=X.open(t),e=X.high(e),i=X.low(i),o=X.close(o),E(t)||E(e)||E(i)||E(o))return[t,e,i,o]},range:function(t,e){return t=X.low(t),e=X.high(e),E(t)||E(e)?[t,e]:null===t&&null===e?null:void 0}},B.groupData=function(t,e,i,o){var r,a,n,s,l,h,c=this,p=c.data,d=c.options.data,u=[],g=[],f=[],x=t.length,m=!!e,v=[],b="function"==typeof o?o:X[o]||R[c.type]&&X[R[c.type].approximation]||X[I.approximation],y=c.pointArrayMap,M=y&&y.length,k=0,A=0;for(M?P(y,function(){v.push([])}):v.push([]),s=M||1,l=0;l<=x&&!(t[l]>=i[0]);l++);for(;l<=x;l++){for(;i[k+1]!==undefined&&t[l]>=i[k+1]||l===x;){for(r=i[k],c.dataGroupInfo={start:A,length:v[0].length},(n=b.apply(c,v))!==undefined&&(u.push(r),g.push(n),f.push(c.dataGroupInfo)),A=l,h=0;h<s;h++)v[h].length=0,v[h].hasNulls=!1;if(k+=1,l===x)break}if(l===x)break;if(y){var w,S=c.cropStart+l,B=p&&p[S]||c.pointClass.prototype.applyOptions.apply({series:c},[d[S]]);for(h=0;h<M;h++)w=B[y[h]],E(w)?v[h].push(w):null===w&&(v[h].hasNulls=!0)}else a=m?e[l]:null,E(a)?v[0].push(a):null===a&&(v[0].hasNulls=!0)}return[u,g,f]},B.processData=function(){var t,e,i=this,o=i.chart,r=i.options.dataGrouping,a=!1!==i.allowDG&&r&&S(r.enabled,o.options.isStock),n=i.visible||!o.options.chart.ignoreHiddenSeries,s=this.currentDataGrouping;if(i.forceCrop=a,i.groupPixelWidth=null,!(i.hasProcessed=!0)!==O.apply(i,arguments)&&a){i.destroyGroupedData();var l,h=i.processedXData,c=i.processedYData,p=o.plotSizeX,d=i.xAxis,u=d.options.ordinal,g=i.groupPixelWidth=d.getGroupPixelWidth&&d.getGroupPixelWidth();if(g){t=!0,i.isDirty=!0,i.points=null;var f=d.getExtremes(),x=f.min,m=f.max,v=g*(m-x)/p*(u&&d.getGroupIntervalFactor(x,m,i)||1),b=d.getTimeTicks(d.normalizeTimeTickInterval(v,r.units||W),Math.min(x,h[0]),Math.max(m,h[h.length-1]),d.options.startOfWeek,h,i.closestPointRange),y=B.groupData.apply(i,[h,c,b,r.approximation]),M=y[0],k=y[1];if(r.smoothed&&M.length){for(M[l=M.length-1]=Math.min(M[l],m);l--&&0<l;)M[l]+=v/2;M[0]=Math.max(M[0],x)}e=b.info,i.closestPointRange=b.info.totalRange,i.groupMap=y[2],w(M[0])&&M[0]<d.dataMin&&n&&(d.min===d.dataMin&&(d.min=M[0]),d.dataMin=M[0]),i.processedXData=M,i.processedYData=k}else i.groupMap=null;i.hasGroupedData=t,i.currentDataGrouping=e,i.preventGraphAnimation=(s&&s.totalRange)!==(e&&e.totalRange)}},B.destroyGroupedData=function(){var i=this.groupedData;P(i||[],function(t,e){t&&(i[e]=t.destroy?t.destroy():null)}),this.groupedData=null},B.generatePoints=function(){L.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},M(g.prototype,"update",function(t){this.dataGroup?x.error(24):t.apply(this,[].slice.call(arguments,1))}),M(y.prototype,"tooltipFooterHeaderFormatter",function(t,e,i){var o,r,a,n,s,l=this,h=e.series,c=h.options,p=h.tooltipOptions,d=c.dataGrouping,u=p.xDateFormat,g=h.xAxis,f=x.dateFormat;return g&&"datetime"===g.options.type&&d&&E(e.key)?(r=h.currentDataGrouping,a=d.dateTimeLabelFormats,r?(n=a[r.unitName],1===r.count?u=n[0]:(u=n[1],o=n[2])):!u&&a&&(u=l.getXDateFormat(e,p,g)),s=f(u,e.key),o&&(s+=f(o,e.key+r.totalRange-1)),b(p[(i?"footer":"header")+"Format"],{point:v(e.point,{key:s}),series:h})):t.call(l,e,i)}),B.destroy=function(){for(var t=this,e=t.groupedData||[],i=e.length;i--;)e[i]&&e[i].destroy();z.apply(t)},M(B,"setOptions",function(t,e){var i=t.call(this,e),o=this.type,r=this.chart.options.plotOptions,a=d[o].dataGrouping;return R[o]&&(a||(a=u(I,R[o])),i.dataGrouping=u(a,r.series&&r.series.dataGrouping,r[o].dataGrouping,e.dataGrouping)),this.chart.options.isStock&&(this.requireSorting=!0),i}),M(p.prototype,"setScale",function(t){t.call(this),P(this.series,function(t){t.hasProcessed=!1})}),p.prototype.getGroupPixelWidth=function(){var t,e,i,o=this.series,r=o.length,a=0,n=!1;for(t=r;t--;)(i=o[t].options.dataGrouping)&&(a=Math.max(a,i.groupPixelWidth));for(t=r;t--;)(i=o[t].options.dataGrouping)&&o[t].hasProcessed&&(e=(o[t].processedXData||o[t].data).length,(o[t].groupPixelWidth||e>this.chart.plotSizeX/a||e&&i.forced)&&(n=!0));return n?a:0},p.prototype.setDataGrouping=function(e,t){var i;if(t=S(t,!0),e||(e={forced:!1,units:null}),this instanceof p)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:e},!1);else P(this.chart.options.series,function(t){t.dataGrouping=e},!1);t&&this.chart.redraw()},H=(G=t).each,Y=G.Point,N=G.seriesType,F=G.seriesTypes,N("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(t,e){var i=F.column.prototype.pointAttribs.call(this,t,e),o=this.options;return delete i.fill,!t.options.color&&o.upColor&&t.open<t.close&&(i.stroke=o.upColor),i},translate:function(){var o=this,r=o.yAxis,a=!!o.modifyValue,n=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];F.column.prototype.translate.apply(o),H(o.points,function(i){H([i.open,i.high,i.low,i.close,i.low],function(t,e){null!==t&&(a&&(t=o.modifyValue(t)),i[n[e]]=r.toPixels(t,!0))}),i.tooltipPos[1]=i.plotHigh+r.pos-o.chart.plotTop})},drawPoints:function(){var h=this,t=h.points,c=h.chart;H(t,function(t){var e,i,o,r,a,n,s=t.graphic,l=!s;t.plotY!==undefined&&(s||(t.graphic=s=c.renderer.path().add(h.group)),s.attr(h.pointAttribs(t,t.selected&&"select")),o=s.strokeWidth()%2/2,n=Math.round(t.plotX)-o,r=Math.round(t.shapeArgs.width/2),a=["M",n,Math.round(t.yBottom),"L",n,Math.round(t.plotHigh)],null!==t.open&&(e=Math.round(t.plotOpen)+o,a.push("M",n,e,"L",n-r,e)),null!==t.close&&(i=Math.round(t.plotClose)+o,a.push("M",n,i,"L",n+r,i)),s[l?"attr":"animate"]({d:a}).addClass(t.getClassName(),!0))})},animate:null},{getClassName:function(){return Y.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}}),V=(U=t).defaultPlotOptions,_=U.each,j=U.merge,Z=U.seriesType,K=U.seriesTypes,q={states:{hover:{lineWidth:2}},tooltip:V.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0},Z("candlestick","ohlc",j(V.column,q),{pointAttribs:function(t,e){var i,o=K.column.prototype.pointAttribs.call(this,t,e),r=this.options,a=t.open<t.close,n=r.lineColor||this.color;return o["stroke-width"]=r.lineWidth,o.fill=t.options.color||a&&r.upColor||this.color,o.stroke=t.lineColor||a&&r.upLineColor||n,e&&(i=r.states[e],o.fill=i.color||o.fill,o.stroke=i.lineColor||o.stroke,o["stroke-width"]=i.lineWidth||o["stroke-width"]),o},drawPoints:function(){var u=this,t=u.points,g=u.chart;_(t,function(t){var e,i,o,r,a,n,s,l,h,c,p=t.graphic,d=!p;t.plotY!==undefined&&(p||(t.graphic=p=g.renderer.path().add(u.group)),p.attr(u.pointAttribs(t,t.selected&&"select")).shadow(u.options.shadow),s=p.strokeWidth()%2/2,l=Math.round(t.plotX)-s,e=t.plotOpen,i=t.plotClose,o=Math.min(e,i),r=Math.max(e,i),c=Math.round(t.shapeArgs.width/2),a=Math.round(o)!==Math.round(t.plotHigh),n=r!==t.yBottom,o=Math.round(o)+s,r=Math.round(r)+s,(h=[]).push("M",l-c,r,"L",l-c,o,"L",l+c,o,"L",l+c,r,"Z","M",l,o,"L",l,a?Math.round(t.plotHigh):o,"M",l,r,"L",l,n?Math.round(t.yBottom):r),p[d?"attr":"animate"]({d:h}).addClass(t.getClassName(),!0))})}});var J,Q,$,tt,et,it,ot,rt,at,nt,st,lt,ht,ct,pt,dt,ut,gt,ft,xt,mt,vt,bt,yt,Mt,kt,At,wt,St,Bt,Pt,Dt,Tt,Ct,Et,Ot,Lt,zt,It,Rt,Wt,Xt,Gt,Ht,Yt=(Q=(J=t).each,$=J.seriesTypes,tt=J.stableSort,{translate:function(){$.column.prototype.translate.apply(this);var t,o,e,i,r,a,n=this,s=n.options,l=n.chart,h=n.points,c=h.length-1,p=s.onSeries,d=p&&l.get(p),u=s.onKey||"y",g=d&&d.options.step,f=d&&d.points,x=f&&f.length,m=n.xAxis,v=n.yAxis,b=m.getExtremes(),y=0;if(d&&d.visible&&x)for(y=(d.pointXOffset||0)+(d.barW||0)/2,a=d.currentDataGrouping,i=f[x-1].x+(a?a.totalRange:0),tt(h,function(t,e){return t.x-e.x}),u="plot"+u[0].toUpperCase()+u.substr(1);x--&&h[c]&&(t=h[c],!((e=f[x]).x<=t.x&&e[u]!==undefined&&(t.x<=i&&(t.plotY=e[u],e.x<t.x&&!g&&(r=f[x+1])&&r[u]!==undefined&&(t.plotY+=(t.x-e.x)/(r.x-e.x)*(r[u]-e[u]))),x++,--c<0))););Q(h,function(t,e){var i;t.plotY===undefined&&(t.x>=b.min&&t.x<=b.max?t.plotY=l.chartHeight-m.bottom-(m.opposite?m.height:0)+m.offset-v.top:t.shapeArgs={}),t.plotX+=y,(o=h[e-1])&&o.plotX===t.plotX&&(o.stackIndex===undefined&&(o.stackIndex=0),i=o.stackIndex+1),t.stackIndex=i})}});it=Yt,ot=(et=t).addEvent,rt=et.each,at=et.merge,nt=et.noop,st=et.Renderer,lt=et.Series,ht=et.seriesType,ct=et.SVGRenderer,pt=et.TrackerMixin,dt=et.VMLRenderer,ut=ct.prototype.symbols,ht("flags","column",{pointRange:0,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:lt.prototype.init,pointAttribs:function(t,e){var i=this.options,o=t&&t.color||this.color,r=i.lineColor,a=t&&t.lineWidth,n=t&&t.fillColor||i.fillColor;return e&&(n=i.states[e].fillColor,r=i.states[e].lineColor,a=i.states[e].lineWidth),{fill:n||o,stroke:r||o,"stroke-width":a||i.lineWidth||0}},translate:it.translate,drawPoints:function(){var t,e,i,o,r,a,n,s,l,h=this,c=h.points,p=h.chart,d=p.renderer,u=h.options,g=u.y,f=h.yAxis,x={},m=[];for(o=c.length;o--;)l=(r=c[o]).plotX>h.xAxis.len,t=r.plotX,n=r.stackIndex,i=r.options.shape||u.shape,(e=r.plotY)!==undefined&&(e=r.plotY+g-(n!==undefined&&n*u.stackDistance)),r.anchorX=n?undefined:r.plotX,s=n?undefined:r.plotY,a=r.graphic,e!==undefined&&0<=t&&!l?(a||(a=r.graphic=d.label("",null,null,i,null,null,u.useHTML).attr(h.pointAttribs(r)).css(at(u.style,r.style)).attr({align:"flag"===i?"left":"center",width:u.width,height:u.height,"text-align":u.textAlign}).addClass("highcharts-point").add(h.markerGroup),r.graphic.div&&(r.graphic.div.point=r),a.shadow(u.shadow),a.isNew=!0),0<t&&(t-=a.strokeWidth()%2),a.attr({text:r.options.title||u.title||"A"})[a.isNew?"attr":"animate"]({y:e,anchorY:s}),x[r.plotX]?x[r.plotX].size=Math.max(x[r.plotX].size,a.width):x[r.plotX]={align:0,size:a.width,target:t,anchorX:t},r.tooltipPos=p.inverted?[f.len+f.pos-p.plotLeft-e,h.xAxis.len-t]:[t,e+f.pos-p.plotTop]):a&&(r.graphic=a.destroy());et.objectEach(x,function(t){t.plotX=t.anchorX,m.push(t)}),et.distribute(m,this.xAxis.len),rt(c,function(t){var e=t.graphic&&x[t.plotX];e&&(t.graphic[t.graphic.isNew?"attr":"animate"]({x:e.pos,anchorX:t.anchorX}),t.graphic.isNew=!1)}),u.useHTML&&et.wrap(h.markerGroup,"on",function(t){return et.SVGElement.prototype.on.apply(t.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var i=this.points;pt.drawTrackerPoint.apply(this),rt(i,function(e){var t=e.graphic;t&&ot(t.element,"mouseover",function(){0<e.stackIndex&&!e.raised&&(e._y=t.y,t.attr({y:e._y-8}),e.raised=!0),rt(i,function(t){t!==e&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:nt,buildKDTree:nt,setClip:nt}),ut.flag=function(t,e,i,o,r){var a=r&&r.anchorX||t,n=r&&r.anchorY||e;return ut.circle(a-1,n-1,2,2).concat(["M",a,n,"L",t,e+o,t,e,t+i,e,t+i,e+o,t,e+o,"Z"])},rt(["circle","square"],function(h){ut[h+"pin"]=function(t,e,i,o,r){var a,n,s=r&&r.anchorX,l=r&&r.anchorY;return"circle"===h&&i<o&&(t-=Math.round((o-i)/2),i=o),a=ut[h](t,e,i,o),s&&l&&(n=l<e?e:e+o,a.push("M","circle"===h?a[1]-a[4]:a[1]+a[4]/2,n,"L",s,l),a=a.concat(ut.circle(s-1,l-1,2,2))),a}}),st===dt&&rt(["flag","circlepin","squarepin"],function(t){dt.prototype.symbols[t]=ut[t]}),function(t){function e(t,e,i){this.init(t,e,i)}var l,h=t.addEvent,i=t.Axis,u=t.correctFloat,o=t.defaultOptions,g=t.defined,r=t.destroyObjectProperties,c=t.each,n=t.fireEvent,p=t.hasTouch,a=t.isTouchDevice,s=t.merge,d=t.pick,f=t.removeEvent,x=t.svg,m=t.wrap,v={height:a?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:x&&!a,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};o.scrollbar=s(!0,v,o.scrollbar),t.swapXY=l=function(t,e){var i,o,r=t.length;if(e)for(i=0;i<r;i+=3)o=t[i+1],t[i+1]=t[i+2],t[i+2]=o;return t},e.prototype={init:function(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=s(v,e),this.chart=i,this.size=d(this.options.size,this.options.height),e.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var t,e=this,i=e.renderer,o=e.options,r=e.size;e.group=t=i.g("scrollbar").attr({zIndex:o.zIndex,translateY:-99999}).add(),e.track=i.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:o.trackBorderRadius||0,height:r,width:r}).add(t),e.track.attr({fill:o.trackBackgroundColor,stroke:o.trackBorderColor,"stroke-width":o.trackBorderWidth}),this.trackBorderWidth=e.track.strokeWidth(),e.track.attr({y:-this.trackBorderWidth%2/2}),e.scrollbarGroup=i.g().add(t),e.scrollbar=i.rect().addClass("highcharts-scrollbar-thumb").attr({height:r,width:r,r:o.barBorderRadius||0}).add(e.scrollbarGroup),e.scrollbarRifles=i.path(l(["M",-3,r/4,"L",-3,2*r/3,"M",0,r/4,"L",0,2*r/3,"M",3,r/4,"L",3,2*r/3],o.vertical)).addClass("highcharts-scrollbar-rifles").add(e.scrollbarGroup),e.scrollbar.attr({fill:o.barBackgroundColor,stroke:o.barBorderColor,"stroke-width":o.barBorderWidth}),e.scrollbarRifles.attr({stroke:o.rifleColor,"stroke-width":1}),e.scrollbarStrokeWidth=e.scrollbar.strokeWidth(),e.scrollbarGroup.translate(-e.scrollbarStrokeWidth%2/2,-e.scrollbarStrokeWidth%2/2),e.drawScrollbarButton(0),e.drawScrollbarButton(1)},position:function(t,e,i,o){var r=this,a=r.options.vertical,n=o,s=0,l=r.rendered?"animate":"attr";r.x=t,r.y=e+this.trackBorderWidth,r.width=i,r.height=o,r.xOffset=n,r.yOffset=s,a?(r.width=r.yOffset=i=s=r.size,r.xOffset=n=0,r.barWidth=o-2*i,r.x=t+=r.options.margin):(r.height=r.xOffset=o=n=r.size,r.barWidth=i-2*o,r.y=r.y+r.options.margin),r.group[l]({translateX:t,translateY:r.y}),r.track[l]({width:i,height:o}),r.scrollbarButtons[1][l]({translateX:a?0:i-n,translateY:a?o-s:0})},drawScrollbarButton:function(t){var e,i,o=this,r=o.renderer,a=o.scrollbarButtons,n=o.options,s=o.size;e=r.g().add(o.group),a.push(e),(i=r.rect().addClass("highcharts-scrollbar-button").add(e)).attr({stroke:n.buttonBorderColor,"stroke-width":n.buttonBorderWidth,fill:n.buttonBackgroundColor}),i.attr(i.crisp({x:-.5,y:-.5,width:s+1,height:s+1,r:n.buttonBorderRadius},i.strokeWidth())),(i=r.path(l(["M",s/2+(t?-1:1),s/2-3,"L",s/2+(t?-1:1),s/2+3,"L",s/2+(t?2:-2),s/2],n.vertical)).addClass("highcharts-scrollbar-arrow").add(a[t])).attr({fill:n.buttonArrowColor})},setRange:function(t,e){var i,o,r,a,n,s=this,l=s.options,h=l.vertical,c=l.minWidth,p=s.barWidth,d=this.rendered&&!this.hasDragged?"animate":"attr";g(p)&&(t=Math.max(t,0),i=Math.ceil(p*t),o=p*Math.min(e,1),s.calculatedWidth=a=u(o-i),a<c&&(i=(p-c+a)*t,a=c),r=Math.floor(i+s.xOffset+s.yOffset),n=a/2-.5,s.from=t,s.to=e,h?(s.scrollbarGroup[d]({translateY:r}),s.scrollbar[d]({height:a}),s.scrollbarRifles[d]({translateY:n}),s.scrollbarTop=r,s.scrollbarLeft=0):(s.scrollbarGroup[d]({translateX:r}),s.scrollbar[d]({width:a}),s.scrollbarRifles[d]({translateX:n}),s.scrollbarLeft=r,s.scrollbarTop=0),a<=12?s.scrollbarRifles.hide():s.scrollbarRifles.show(!0),!1===l.showFull&&(t<=0&&1<=e?s.group.hide():s.group.show()),s.rendered=!0)},initEvents:function(){var a=this;a.mouseMoveHandler=function(t){var e,i=a.chart.pointer.normalize(t),o=a.options.vertical?"chartY":"chartX",r=a.initPositions;!a.grabbedCenter||t.touches&&0===t.touches[0][o]||(e=a.cursorToScrollbarPosition(i)[o]-a[o],a.hasDragged=!0,a.updatePosition(r[0]+e,r[1]+e),a.hasDragged&&n(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},a.mouseUpHandler=function(t){a.hasDragged&&n(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),a.grabbedCenter=a.hasDragged=a.chartX=a.chartY=null},a.mouseDownHandler=function(t){var e=a.chart.pointer.normalize(t),i=a.cursorToScrollbarPosition(e);a.chartX=i.chartX,a.chartY=i.chartY,a.initPositions=[a.from,a.to],a.grabbedCenter=!0},a.buttonToMinClick=function(t){var e=u(a.to-a.from)*a.options.step;a.updatePosition(u(a.from-e),u(a.to-e)),n(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:t})},a.buttonToMaxClick=function(t){var e=(a.to-a.from)*a.options.step;a.updatePosition(a.from+e,a.to+e),n(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:t})},a.trackClick=function(t){var e=a.chart.pointer.normalize(t),i=a.to-a.from,o=a.y+a.scrollbarTop,r=a.x+a.scrollbarLeft;a.options.vertical&&e.chartY>o||!a.options.vertical&&e.chartX>r?a.updatePosition(a.from+i,a.to+i):a.updatePosition(a.from-i,a.to-i),n(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:t})}},cursorToScrollbarPosition:function(t){var e=this,i=e.options,o=i.minWidth>e.calculatedWidth?i.minWidth:0;return{chartX:(t.chartX-e.x-e.xOffset)/(e.barWidth-o),chartY:(t.chartY-e.y-e.yOffset)/(e.barWidth-o)}},updatePosition:function(t,e){1<e&&(t=u(1-u(e-t)),e=1),t<0&&(e=u(e-t),t=0),this.from=t,this.to=e},update:function(t){this.destroy(),this.init(this.chart.renderer,s(!0,this.options,t),this.chart)},addEvents:function(){var t,e=this.options.inverted?[1,0]:[0,1],i=this.scrollbarButtons,o=this.scrollbarGroup.element,r=this.track.element,a=this.mouseDownHandler,n=this.mouseMoveHandler,s=this.mouseUpHandler;t=[[i[e[0]].element,"click",this.buttonToMinClick],[i[e[1]].element,"click",this.buttonToMaxClick],[r,"click",this.trackClick],[o,"mousedown",a],[o.ownerDocument,"mousemove",n],[o.ownerDocument,"mouseup",s]],p&&t.push([o,"touchstart",a],[o.ownerDocument,"touchmove",n],[o.ownerDocument,"touchend",s]),c(t,function(t){h.apply(null,t)}),this._events=t},removeEvents:function(){c(this._events,function(t){f.apply(null,t)}),this._events.length=0},destroy:function(){var t=this.chart.scroller;this.removeEvents(),c(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),t&&this===t.scrollbar&&(t.scrollbar=null,r(t.scrollbarButtons))}},m(i.prototype,"init",function(t){var a=this;t.apply(a,Array.prototype.slice.call(arguments,1)),a.options.scrollbar&&a.options.scrollbar.enabled&&(a.options.scrollbar.vertical=!a.horiz,a.options.startOnTick=a.options.endOnTick=!1,a.scrollbar=new e(a.chart.renderer,a.options.scrollbar,a.chart),h(a.scrollbar,"changed",function(t){var e,i,o=Math.min(d(a.options.min,a.min),a.min,a.dataMin),r=Math.max(d(a.options.max,a.max),a.max,a.dataMax)-o;a.horiz&&!a.reversed||!a.horiz&&a.reversed?(e=o+r*this.to,i=o+r*this.from):(e=o+r*(1-this.from),i=o+r*(1-this.to)),a.setExtremes(i,e,!0,!1,t)}))}),m(i.prototype,"render",function(t){var e,i,o,r=this,a=Math.min(d(r.options.min,r.min),r.min,d(r.dataMin,r.min)),n=Math.max(d(r.options.max,r.max),r.max,d(r.dataMax,r.max)),s=r.scrollbar,l=r.titleOffset||0;t.apply(r,Array.prototype.slice.call(arguments,1)),s&&(r.horiz?(s.position(r.left,r.top+r.height+2+r.chart.scrollbarsOffsets[1]+(r.opposite?0:l+r.axisTitleMargin+r.offset),r.width,r.height),e=1):(s.position(r.left+r.width+2+r.chart.scrollbarsOffsets[0]+(r.opposite?l+r.axisTitleMargin+r.offset:0),r.top,r.width,r.height),e=0),(!r.opposite&&!r.horiz||r.opposite&&r.horiz)&&(r.chart.scrollbarsOffsets[e]+=r.scrollbar.size+r.scrollbar.options.margin),isNaN(a)||isNaN(n)||!g(r.min)||!g(r.max)?s.setRange(0,0):(i=(r.min-a)/(n-a),o=(r.max-a)/(n-a),r.horiz&&!r.reversed||!r.horiz&&r.reversed?s.setRange(i,o):s.setRange(1-o,1-i)))}),m(i.prototype,"getOffset",function(t){var e=this,i=e.horiz?2:1,o=e.scrollbar;t.apply(e,Array.prototype.slice.call(arguments,1)),o&&(e.chart.scrollbarsOffsets=[0,0],e.chart.axisOffset[i]+=o.size+o.options.margin)}),m(i.prototype,"destroy",function(t){this.scrollbar&&(this.scrollbar=this.scrollbar.destroy()),t.apply(this,Array.prototype.slice.call(arguments,1))}),t.Scrollbar=e}(t),function(w){function o(t){this.init(t)}var t,u=w.addEvent,g=w.Axis,e=w.Chart,i=w.color,r=w.defaultDataGroupingUnits,f=w.defaultOptions,S=w.defined,a=w.destroyObjectProperties,x=w.each,n=w.erase,s=w.error,m=w.extend,l=w.grep,h=w.hasTouch,v=w.isArray,B=w.isNumber,c=w.isObject,b=w.merge,P=w.pick,y=w.removeEvent,M=w.Scrollbar,p=w.Series,d=w.seriesTypes,k=w.wrap,A=[].concat(r),D=function(t){var e=l(arguments,B);if(e.length)return Math[t].apply(0,e)};A[4]=["day",[1,2,3,4]],A[5]=["week",[1,2,3]],t=d.areaspline===undefined?"line":"areaspline",m(f,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:i("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:t,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:A},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",
className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),w.Renderer.prototype.symbols["navigator-handle"]=function(t,e,i,o,r){var a=r.width/2,n=Math.round(a/3)+.5,s=r.height;return["M",-a-1,.5,"L",a,.5,"L",a,s+.5,"L",-a-1,s+.5,"L",-a-1,.5,"M",-n,4,"L",-n,s-3,"M",n-1,4,"L",n-1,s-3]},o.prototype={drawHandle:function(t,e,i,o){var r=this,a=r.navigatorOptions.handles.height;r.handles[e][o](i?{translateX:Math.round(r.left+r.height/2),translateY:Math.round(r.top+parseInt(t,10)+.5-a)}:{translateX:Math.round(r.left+parseInt(t,10)),translateY:Math.round(r.top+r.height/2-a/2-1)})},drawOutline:function(t,e,i,o){var r,a,n=this,s=n.navigatorOptions.maskInside,l=n.outline.strokeWidth(),h=l/2,c=l%2/2,p=n.outlineHeight,d=n.scrollbarHeight,u=n.size,g=n.left-d,f=n.top;a=i?["M",(g-=h)+p,f-d-c,"L",g+p,r=f+e+c,"L",g,r,"L",g,e=f+t+c,"L",g+p,e,"L",g+p,f+u+d].concat(s?["M",g+p,r-h,"L",g+p,e+h]:[]):["M",g,f+=h,"L",t+=g+d-c,f,"L",t,f+p,"L",e+=g+d-c,f+p,"L",e,f,"L",g+u+2*d,f].concat(s?["M",t-h,f,"L",e+h,f]:[]),n.outline[o]({d:a})},drawMasks:function(t,e,i,o){var r,a,n,s,l=this,h=l.left,c=l.top,p=l.height;i?(n=[h,h,h],s=[c,c+t,c+e],a=[p,p,p],r=[t,e-t,l.size-e]):(n=[h,h+t,h+e],s=[c,c,c],a=[t,e-t,l.size-e],r=[p,p,p]),x(l.shades,function(t,e){t[o]({x:n[e],y:s[e],width:a[e],height:r[e]})})},renderElements:function(){var i,o=this,r=o.navigatorOptions,t=r.maskInside,a=o.chart,e=a.inverted,n=a.renderer;o.navigatorGroup=i=n.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();var s={cursor:e?"ns-resize":"ew-resize"};x([!t,t,!t],function(t,e){o.shades[e]=n.rect().addClass("highcharts-navigator-mask"+(1===e?"-inside":"-outside")).attr({fill:t?r.maskFill:"rgba(0,0,0,0)"}).css(1===e&&s).add(i)}),o.outline=n.path().addClass("highcharts-navigator-outline").attr({"stroke-width":r.outlineWidth,stroke:r.outlineColor}).add(i),r.handles.enabled&&x([0,1],function(t){r.handles.inverted=a.inverted,o.handles[t]=n.symbol(r.handles.symbols[t],-r.handles.width/2-1,0,r.handles.width,r.handles.height,r.handles),o.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(i);var e=r.handles;o.handles[t].attr({fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.lineWidth}).css(s)})},update:function(t){x(this.series||[],function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy();var e=this.chart.options;b(!0,e.navigator,this.options,t),this.init(this.chart)},render:function(t,e,i,o){var r,a,n,s,l,h,c,p,d,u,g=this,f=g.chart,x=g.scrollbarHeight,m=g.xAxis,v=m.fake?f.xAxis[0]:m,b=g.navigatorEnabled,y=g.rendered,M=f.inverted,k=f.xAxis[0].minRange,A=f.xAxis[0].options.maxRange;if(!this.hasDragged||S(i)){if(!B(t)||!B(e)){if(!y)return;i=0,o=P(m.width,v.width)}g.left=P(m.left,f.plotLeft+x+(M?f.plotWidth:0)),g.size=h=s=P(m.len,(M?f.plotHeight:f.plotWidth)-2*x),r=M?x:s+2*x,i=P(i,m.toPixels(t,!0)),o=P(o,m.toPixels(e,!0)),B(i)&&Math.abs(i)!==Infinity||(i=0,o=r),p=m.toValue(i,!0),d=m.toValue(o,!0),(u=Math.abs(w.correctFloat(d-p)))<k?this.grabbedLeft?i=m.toPixels(d-k,!0):this.grabbedRight&&(o=m.toPixels(p+k,!0)):S(A)&&A<u&&(this.grabbedLeft?i=m.toPixels(d-A,!0):this.grabbedRight&&(o=m.toPixels(p+A,!0))),g.zoomedMax=Math.min(Math.max(i,o,0),h),g.zoomedMin=Math.min(Math.max(g.fixedWidth?g.zoomedMax-g.fixedWidth:Math.min(i,o),0),h),g.range=g.zoomedMax-g.zoomedMin,h=Math.round(g.zoomedMax),l=Math.round(g.zoomedMin),b&&(g.navigatorGroup.attr({visibility:"visible"}),c=y&&!g.hasDragged?"animate":"attr",g.drawMasks(l,h,M,c),g.drawOutline(l,h,M,c),g.navigatorOptions.handles.enabled&&(g.drawHandle(l,0,M,c),g.drawHandle(h,1,M,c))),g.scrollbar&&(M?(n=g.top-x,a=g.left-x+(b||!v.opposite?0:(v.titleOffset||0)+v.axisTitleMargin),x=s+2*x):(n=g.top+(b?g.height:-x),a=g.left-x),g.scrollbar.position(a,n,r,x),g.scrollbar.setRange(g.zoomedMin/s,g.zoomedMax/s)),g.rendered=!0}},addMouseEvents:function(){var t,e,i=this,o=i.chart,r=o.container,a=[];i.mouseMoveHandler=t=function(t){i.onMouseMove(t)},i.mouseUpHandler=e=function(t){i.onMouseUp(t)},(a=i.getPartsEvents("mousedown")).push(u(r,"mousemove",t),u(r.ownerDocument,"mouseup",e)),h&&(a.push(u(r,"touchmove",t),u(r.ownerDocument,"touchend",e)),a.concat(i.getPartsEvents("touchstart"))),i.eventsToUnbind=a,i.series&&i.series[0]&&a.push(u(i.series[0].xAxis,"foundExtremes",function(){o.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(o){var r=this,a=[];return x(["shades","handles"],function(i){x(r[i],function(t,e){a.push(u(t.element,o,function(t){r[i+"Mousedown"](t,e)}))})}),a},shadesMousedown:function(t,e){t=this.chart.pointer.normalize(t);var i,o,r,a=this,n=a.chart,s=a.xAxis,l=a.zoomedMin,h=a.left,c=a.size,p=a.range,d=t.chartX;n.inverted&&(d=t.chartY,h=a.top),1===e?(a.grabbedCenter=d,a.fixedWidth=p,a.dragOffset=d-l):(r=d-h-p/2,0===e?r=Math.max(0,r):2===e&&c<=r+p&&(r=c-p,i=a.getUnionExtremes().dataMax),r!==l&&(a.fixedWidth=p,o=s.toFixedRange(r,r+p,null,i),n.xAxis[0].setExtremes(Math.min(o.min,o.max),Math.max(o.min,o.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(t,e){t=this.chart.pointer.normalize(t);var i=this,o=i.chart,r=o.xAxis[0],a=o.inverted&&!r.reversed||!o.inverted&&r.reversed;0===e?(i.grabbedLeft=!0,i.otherHandlePos=i.zoomedMax,i.fixedExtreme=a?r.min:r.max):(i.grabbedRight=!0,i.otherHandlePos=i.zoomedMin,i.fixedExtreme=a?r.max:r.min),o.fixedRange=null},onMouseMove:function(t){var e,i=this,o=i.chart,r=i.left,a=i.navigatorSize,n=i.range,s=i.dragOffset,l=o.inverted;t.touches&&0===t.touches[0].pageX||(e=(t=o.pointer.normalize(t)).chartX,l&&(r=i.top,e=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,e-r,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,e-r)):i.grabbedCenter&&(i.hasDragged=!0,e<s?e=s:a+s-n<e&&(e=a+s-n),i.render(0,0,e-s,e-s+n)),i.hasDragged&&i.scrollbar&&i.scrollbar.options.liveRedraw&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))},onMouseUp:function(t){var e,i,o,r=this,a=r.chart,n=r.xAxis,s=r.scrollbar,l=t.DOMEvent||t;(!r.hasDragged||s&&s.hasDragged)&&"scrollbar"!==t.trigger||(r.zoomedMin===r.otherHandlePos?e=r.fixedExtreme:r.zoomedMax===r.otherHandlePos&&(i=r.fixedExtreme),r.zoomedMax===r.size&&(i=r.getUnionExtremes().dataMax),o=n.toFixedRange(r.zoomedMin,r.zoomedMax,e,i),S(o.min)&&a.xAxis[0].setExtremes(Math.min(o.min,o.max),Math.max(o.min,o.max),!0,!r.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:l})),"mousemove"!==t.DOMType&&(r.grabbedLeft=r.grabbedRight=r.grabbedCenter=r.fixedWidth=r.fixedExtreme=r.otherHandlePos=r.hasDragged=r.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(x(this.eventsToUnbind,function(t){t()}),this.eventsToUnbind=undefined),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&x(t,function(t){y(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&y(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(s){var t=s.options,e=t.navigator,i=e.enabled,o=t.scrollbar,r=o.enabled,a=i?e.height:0,l=r?o.height:0;this.handles=[],this.shades=[],this.chart=s,this.setBaseSeries(),this.height=a,this.scrollbarHeight=l,this.scrollbarEnabled=r,this.navigatorEnabled=i,this.navigatorOptions=e,this.scrollbarOptions=o,this.outlineHeight=a+l,this.opposite=P(e.opposite,!i&&s.inverted);var n=this,h=n.baseSeries,c=s.xAxis.length,p=s.yAxis.length,d=h&&h[0]&&h[0].xAxis||s.xAxis[0];s.extraMargin={type:n.opposite?"plotTop":"marginBottom",value:(i||!s.inverted?n.outlineHeight:0)+e.margin},s.inverted&&(s.extraMargin.type=n.opposite?"marginRight":"plotLeft"),s.isDirtyBox=!0,n.navigatorEnabled?(n.xAxis=new g(s,b({breaks:d.options.breaks,ordinal:d.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:c,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},s.inverted?{offsets:[l,0,-l,0],width:a}:{offsets:[0,-l,0,l],height:a})),n.yAxis=new g(s,b(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:p,zoomEnabled:!1},s.inverted?{width:a}:{height:a})),h||e.series.data?n.updateNavigatorSeries():0===s.series.length&&k(s,"redraw",function(t,e){0<s.series.length&&!n.series&&(n.setBaseSeries(),s.redraw=t),t.call(s,e)}),n.renderElements(),n.addMouseEvents()):n.xAxis={translate:function(t,e){var i=s.xAxis[0],o=i.getExtremes(),r=i.len-2*l,a=D("min",i.options.min,o.dataMin),n=D("max",i.options.max,o.dataMax)-a;return e?t*n/r+a:r*(t-a)/n},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)},toFixedRange:g.prototype.toFixedRange,fake:!0},s.options.scrollbar.enabled&&(s.scrollbar=n.scrollbar=new M(s.renderer,b(s.options.scrollbar,{margin:n.navigatorEnabled?0:10,vertical:s.inverted}),s),u(n.scrollbar,"changed",function(t){var e=n.size,i=e*this.to,o=e*this.from;n.hasDragged=n.scrollbar.hasDragged,n.render(0,0,o,i),(s.options.scrollbar.liveRedraw||"mousemove"!==t.DOMType)&&setTimeout(function(){n.onMouseUp(t)})})),n.addBaseSeriesEvents(),n.addChartEvents()},getUnionExtremes:function(t){var e,i=this.chart.xAxis[0],o=this.xAxis,r=o.options,a=i.options;return t&&null===i.dataMin||(e={dataMin:P(r&&r.min,D("min",a.min,i.dataMin,o.dataMin,o.min)),dataMax:P(r&&r.max,D("max",a.max,i.dataMax,o.dataMax,o.max))}),e},setBaseSeries:function(i,t){var e=this.chart,o=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||0,x(e.series||[],function(t,e){t.options.isInternal||!t.options.showInNavigator&&(e!==i&&t.options.id!==i||!1===t.options.showInNavigator)||o.push(t)}),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(t)},updateNavigatorSeries:function(r){var a,n,s,l=this,h=l.chart,c=l.baseSeries,p=l.navigatorOptions.series,d={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0},u=l.series=w.grep(l.series||[],function(t){var e=t.baseSeries;return!(w.inArray(e,c)<0)||(e&&(y(e,"updatedData",l.updatedDataHandler),delete e.navigatorSeries),t.destroy(),!1)});c&&c.length&&x(c,function g(t){var e=t.navigatorSeries,i=m({color:t.color},v(p)?f.navigator.series:p);if(!e||!1!==l.navigatorOptions.adaptToUpdatedData){d.name="Navigator "+c.length,a=t.options||{},s=a.navigatorOptions||{},n=b(a,d,i,s);var o=s.data||i.data;l.hasNavigatorData=l.hasNavigatorData||!!o,n.data=o||a.data&&a.data.slice(0),e&&e.options?e.update(n,r):(t.navigatorSeries=h.initSeries(n),t.navigatorSeries.baseSeries=t,u.push(t.navigatorSeries))}}),(!p.data||c&&c.length)&&!v(p)||(l.hasNavigatorData=!1,p=w.splat(p),x(p,function(t,e){d.name="Navigator "+(u.length+1),(n=b(f.navigator.series,{color:h.series[e]&&!h.series[e].options.isInternal&&h.series[e].color||h.options.colors[e]||h.options.colors[0]},d,t)).data=t.data,n.data&&(l.hasNavigatorData=!0,u.push(h.initSeries(n)))})),this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var e=this,t=e.baseSeries||[];t[0]&&t[0].xAxis&&u(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),x(t,function(t){u(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),u(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&u(t,"updatedData",this.updatedDataHandler),u(t,"remove",function(){this.navigatorSeries&&(n(e.series,this.navigatorSeries),this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var t,e=this.xAxis;e.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax))},modifyBaseAxisExtremes:function(){var t,e,i=this,o=i.chart.navigator,r=i.getExtremes(),a=r.min,n=r.max,s=r.dataMin,l=r.dataMax,h=n-a,c=o.stickToMin,p=o.stickToMax,d=i.options.overscroll,u=o.series&&o.series[0],g=!!i.setExtremes;i.eventArgs&&"rangeSelectorButton"===i.eventArgs.trigger||(c&&(t=(e=s)+h),p&&(t=l+d,c||(e=Math.max(t-h,u&&u.xData?u.xData[0]:-Number.MAX_VALUE))),g&&(c||p)&&B(e)&&(i.min=i.userMin=e,i.max=i.userMax=t)),o.stickToMin=o.stickToMax=null},updatedDataHandler:function(){var t=this.chart.navigator,e=this,i=this.navigatorSeries;t.stickToMax=Math.round(t.zoomedMax)>=Math.round(t.size),t.stickToMin=B(e.xAxis.min)&&e.xAxis.min<=e.xData[0]&&(!this.chart.fixedRange||!t.stickToMax),i&&!t.hasNavigatorData&&(i.options.pointStart=e.xData[0],i.setData(e.options.data,!1,null,!1))},addChartEvents:function(){u(this.chart,"redraw",function(){var t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||t.scrollbar&&this.xAxis[0]);e&&t.render(e.min,e.max)})},destroy:function(){this.removeEvents(),this.xAxis&&(n(this.chart.xAxis,this.xAxis),n(this.chart.axes,this.xAxis)),this.yAxis&&(n(this.chart.yAxis,this.yAxis),n(this.chart.axes,this.yAxis)),x(this.series||[],function(t){t.destroy&&t.destroy()}),x(["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"],function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),x([this.handles],function(t){a(t)},this)}},w.Navigator=o,k(g.prototype,"zoom",function(t,e,i){var o,r,a=this.chart,n=a.options,s=n.chart.zoomType,l=n.navigator,h=n.rangeSelector;return this.isXAxis&&(l&&l.enabled||h&&h.enabled)&&("x"===s?a.resetZoomButton="blocked":"y"===s?r=!1:"xy"===s&&this.options.range&&(o=this.previousZoom,S(e)?this.previousZoom=[this.min,this.max]:o&&(e=o[0],i=o[1],delete this.previousZoom))),r!==undefined?r:t.call(this,e,i)}),k(e.prototype,"init",function(t,e,i){u(this,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new o(this))}),t.call(this,e,i)}),k(e.prototype,"setChartSize",function(t){var e,i,o,r,a=this.legend,n=this.navigator;t.apply(this,[].slice.call(arguments,1)),n&&(i=a&&a.options,o=n.xAxis,r=n.yAxis,e=n.scrollbarHeight,this.inverted?(n.left=n.opposite?this.chartWidth-e-n.height:this.spacing[3]+e,n.top=this.plotTop+e):(n.left=this.plotLeft+e,n.top=n.navigatorOptions.top||this.chartHeight-n.height-e-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(i&&"bottom"===i.verticalAlign&&i.enabled&&!i.floating?a.legendHeight+P(i.margin,10):0)),o&&r&&(this.inverted?o.options.left=r.options.left=n.left:o.options.top=r.options.top=n.top,o.setAxisSize(),r.setAxisSize()))}),k(p.prototype,"addPoint",function(t,e,i,o,r){var a=this.options.turboThreshold;a&&this.xData.length>a&&c(e,!0)&&this.chart.navigator&&s(20,!0),t.call(this,e,i,o,r)}),k(e.prototype,"addSeries",function(t,e,i,o){var r=t.call(this,e,!1,o);return this.navigator&&this.navigator.setBaseSeries(null,!1),P(i,!0)&&this.redraw(),r}),k(p.prototype,"update",function(t,e,i){t.call(this,e,!1),this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1),P(i,!0)&&this.chart.redraw()}),e.prototype.callbacks.push(function(t){var e,i=t.navigator;i&&(e=t.xAxis[0].getExtremes(),i.render(e.min,e.max))})}(t),function(s){function o(t){this.init(t)}var M=s.addEvent,k=s.Axis,t=s.Chart,g=s.css,H=s.createElement,r=s.dateFormat,Y=s.defaultOptions,B=Y.global.useUTC,a=s.defined,n=s.destroyObjectProperties,l=s.discardElement,N=s.each,f=s.extend,h=s.fireEvent,c=s.Date,P=s.isNumber,x=s.merge,F=s.pick,m=s.pInt,A=s.splat,e=s.wrap;f(Y,{rangeSelector:{verticalAlign:"top",buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:undefined,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),Y.lang=x(Y.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),o.prototype={clickButton:function(t,e){var i,o,r,a,n,s,l,h=this,c=h.chart,p=h.buttonOptions[t],d=c.xAxis[0],u=c.scroller&&c.scroller.getUnionExtremes()||d||{},g=u.dataMin,f=u.dataMax,x=d&&Math.round(Math.min(d.max,F(f,d.max))),m=p.type,v=p._range,b=p.dataGrouping;if(null!==g&&null!==f){if(c.fixedRange=v,b&&(this.forcedDataGrouping=!0,k.prototype.setDataGrouping.call(d||{chart:this.chart},b,!1)),"month"===m||"year"===m)d?(s={range:p,max:x,dataMin:g,dataMax:f},i=d.minFromRange.call(s),P(s.newMax)&&(x=s.newMax)):v=p;else if(v)i=Math.max(x-v,g),x=Math.min(i+v,f);else if("ytd"===m){if(!d)return void M(c,"beforeRender",function(){h.clickButton(t)});f===undefined&&(g=Number.MAX_VALUE,f=Number.MIN_VALUE,N(c.series,function(t){var e=t.xData;g=Math.min(e[0],g),f=Math.max(e[e.length-1],f)}),e=!1),i=r=(l=h.getYTDExtremes(f,g,B)).min,x=l.max}else"all"===m&&d&&(i=g,x=f);i+=p._offsetMin,x+=p._offsetMax,h.setSelected(t),d?d.setExtremes(i,x,F(e,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:p}):(o=A(c.options.xAxis)[0],n=o.range,o.range=v,a=o.min,o.min=r,M(c,"load",function y(){o.range=n,o.min=a}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(e){var i=this,t=e.options.rangeSelector,o=t.buttons||[].concat(i.defaultButtons),r=t.selected,a=function(){var t=i.minInput,e=i.maxInput;t&&t.blur&&h(t,"blur"),e&&e.blur&&h(e,"blur")};i.chart=e,i.options=t,i.buttons=[],e.extraTopMargin=t.height,i.buttonOptions=o,this.unMouseDown=M(e.container,"mousedown",a),this.unResize=M(e,"resize",a),N(o,i.computeButtonRange),r!==undefined&&o[r]&&this.clickButton(r,!1),M(e,"load",function(){e.xAxis&&e.xAxis[0]&&M(e.xAxis[0],"setExtremes",function(t){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var t=this,e=this.chart,g=e.xAxis[0],f=Math.round(g.max-g.min),x=!g.hasVisibleSeries,m=864e5,i=e.scroller&&e.scroller.getUnionExtremes()||g,v=i.dataMin,b=i.dataMax,o=t.getYTDExtremes(b,v,B),y=o.min,M=o.max,k=t.selected,A=P(k),w=t.options.allButtonsEnabled,S=t.buttons;N(t.buttonOptions,function(t,e){var i=t._range,o=t.type,r=t.count||1,a=S[e],n=0,s=t._offsetMax-t._offsetMin,l=e===k,h=b-v<i,c=i<g.minRange,p=!1,d=!1,u=i===f;("month"===o||"year"===o)&&f>={month:28,year:365}[o]*m*r+s&&f<={month:31,year:366}[o]*m*r+s?u=!0:"ytd"===o?(u=M-y+s===f,p=!l):"all"===o&&(u=g.max-g.min>=b-v,d=!l&&A&&u),!w&&(h||c||d||x)?n=3:(l&&u||u&&!A&&!p)&&(A=!0,n=2),a.state!==n&&a.setState(n)})},computeButtonRange:function(t){var e=t.type,i=t.count||1,o={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};o[e]?t._range=o[e]*i:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=F(t.offsetMin,0),t._offsetMax=F(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},setInputValue:function(t,e){var i=this.chart.options.rangeSelector,o=this[t+"Input"];a(e)&&(o.previousValue=o.HCTime,o.HCTime=e),o.value=r(i.inputEditDateFormat||"%Y-%m-%d",o.HCTime),this[t+"DateBox"].attr({text:r(i.inputDateFormat||"%b %e, %Y",o.HCTime)})},showInput:function(t){var e=this.inputGroup,i=this[t+"DateBox"];g(this[t+"Input"],{left:e.translateX+i.x+"px",top:e.translateY+"px",width:i.width-2+"px",height:i.height-2+"px",border:"2px solid silver"})},hideInput:function(t){g(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(t){function e(){var t=n.value,e=(h.inputDateParser||Date.parse)(t),i=l.xAxis[0],o=l.scroller&&l.scroller.xAxis?l.scroller.xAxis:i,r=o.dataMin,a=o.dataMax;e!==n.previousValue&&(n.previousValue=e,P(e)||(e=t.split("-"),e=Date.UTC(m(e[0]),m(e[1])-1,m(e[2]))),P(e)&&(B||(e+=60*(new Date).getTimezoneOffset()*1e3),d?e>s.maxInput.HCTime?e=undefined:e<r&&(e=r):e<s.minInput.HCTime?e=undefined:a<e&&(e=a),e!==undefined&&i.setExtremes(d?e:i.min,d?i.max:e,undefined,undefined,{trigger:"rangeSelectorInput"})))}var n,i,o,s=this,l=s.chart,r=l.renderer.style||{},a=l.renderer,h=l.options.rangeSelector,c=Y.lang,p=s.div,d="min"===t,u=this.inputGroup;this[t+"Label"]=i=a.label(c[d?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(u),u.offset+=i.width+5,this[t+"DateBox"]=o=a.label("",u.offset).addClass("highcharts-range-input").attr({padding:2,width:h.inputBoxWidth||90,height:h.inputBoxHeight||17,stroke:h.inputBoxBorderColor||"#cccccc","stroke-width":1,"text-align":"center"}).on("click",function(){s.showInput(t),s[t+"Input"].focus()}).add(u),u.offset+=o.width+(d?10:0),this[t+"Input"]=n=H("input",{name:t,className:"highcharts-range-selector",type:"text"},{top:l.plotTop+"px"},p),i.css(x(r,h.labelStyle)),o.css(x({color:"#333333"},r,h.inputStyle)),g(n,f({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:r.fontSize,fontFamily:r.fontFamily,top:"-9999em"},h.inputStyle)),n.onfocus=function(){s.showInput(t)},n.onblur=function(){s.hideInput(t)},n.onchange=e,n.onkeypress=function(t){13===t.keyCode&&e()}},getPosition:function(){var t=this.chart,e=t.options.rangeSelector,i="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:i+e.buttonPosition.y,inputTop:i+e.inputPosition.y-10}},getYTDExtremes:function(t,e,i){var o,r=new c(t),a=r[c.hcGetFullYear](),n=i?c.UTC(a,0,1):+new c(a,0,1);return o=Math.max(e||0,n),r=r.getTime(),{max:Math.min(t||r,r),min:o}},render:function(t,e){var r,i,o,a,n,s,l=this,h=l.chart,c=h.renderer,p=h.container,d=h.options,u=d.exporting&&!1!==d.exporting.enabled&&d.navigation&&d.navigation.buttonOptions,g=Y.lang,f=l.div,x=d.rangeSelector,m=x.floating,v=l.buttons,b=l.inputGroup,y=x.buttonTheme,M=x.buttonPosition,k=x.inputPosition,A=x.inputEnabled,w=y&&y.states,S=h.plotLeft,B=l.buttonGroup,P=l.rendered,D=l.options.verticalAlign,T=h.legend,C=T&&T.options,E=M.y,O=k.y,L=P||!1,z=0,I=0;if(!1!==x.enabled){var R,W,X,G;if(P||(l.group=i=c.g("range-selector-group").attr({zIndex:7}).add(),l.buttonGroup=B=c.g("range-selector-buttons").add(i),l.zoomText=c.text(g.rangeSelectorZoom,F(S+M.x,S),15).css(x.labelStyle).add(B),r=F(S+M.x,S)+l.zoomText.getBBox().width+5,N(l.buttonOptions,function(i,o){v[o]=c.button(i.text,r,0,function(){var t,e=i.events&&i.events.click;e&&(t=e.call(i)),!1!==t&&l.clickButton(o),l.isActive=!0},y,w&&w.hover,w&&w.select,w&&w.disabled).attr({"text-align":"center"}).add(B),r+=v[o].width+F(x.buttonSpacing,5)}),!1!==A&&(l.div=f=H("div",null,{position:"relative",height:0,zIndex:1}),p.parentNode.insertBefore(f,p),l.inputGroup=b=c.g("input-group").add(i),b.offset=0,l.drawInput("min"),l.drawInput("max"))),S=h.plotLeft-h.spacing[3],l.updateButtonStates(),u&&this.titleCollision(h)&&"top"===D&&"right"===M.align&&M.y+B.getBBox().height-12<(u.y||0)+u.height&&(z=-40),"left"===M.align?s=M.x-h.spacing[3]:"right"===M.align&&(s=M.x+z-h.spacing[1]),B.align({y:M.y,width:B.getBBox().width,align:M.align,x:s},!0,h.spacingBox),l.group.placed=L,l.buttonGroup.placed=L,!1!==A)z=u&&this.titleCollision(h)&&"top"===D&&"right"===k.align&&k.y-b.getBBox().height-12<(u.y||0)+u.height+h.spacing[0]?-40:0,"left"===k.align?s=S:"right"===k.align&&(s=-Math.max(h.axisOffset[1],-z)),b.align({y:k.y,width:b.getBBox().width,align:k.align,x:k.x+s-2},!0,h.spacingBox),R=b.alignAttr.translateX+b.alignOptions.x-z+b.getBBox().x+2,W=b.alignOptions.width,X=B.alignAttr.translateX+B.getBBox().x,G=B.getBBox().width+20,(k.align===M.align||R<X+G&&X<R+W&&E<O+b.getBBox().height)&&b.attr({translateX:b.alignAttr.translateX+(h.axisOffset[1]>=-z?0:-z),translateY:b.alignAttr.translateY+B.getBBox().height+10}),l.setInputValue("min",t),l.setInputValue("max",e),l.inputGroup.placed=L;l.group.align({verticalAlign:D},!0,h.spacingBox),o=l.group.getBBox().height+20,a=l.group.alignAttr.translateY,"bottom"===D&&(I=a-(o=o+(C&&"bottom"===C.verticalAlign&&C.enabled&&!C.floating?T.legendHeight+F(C.margin,10):0)-20)-(m?0:x.y)-10),"top"===D?(m&&(I=0),h.titleOffset&&(I=h.titleOffset+h.options.title.margin),I+=h.margin[0]-h.spacing[0]||0):"middle"===D&&(O===E?I=O<0?a+n:a:(O||E)&&(O<0||E<0?I-=Math.min(O,E):I=a-o+n)),l.group.translate(x.x,x.y+Math.floor(I)),!1!==A&&(l.minInput.style.marginTop=l.group.translateY+"px",l.maxInput.style.marginTop=l.group.translateY+"px"),l.rendered=!0}},getHeight:function(){var t,e=this,i=e.options,o=e.group,r=i.inputPosition,a=i.buttonPosition,n=i.y,s=a.y,l=r.y,h=0;return h=o?o.getBBox(!0).height+13+n:0,t=Math.min(l,s),(l<0&&s<0||0<l&&0<s)&&(h+=Math.abs(t)),h},titleCollision:function(t){return!(t.options.title.text||t.options.subtitle.text)},update:function(t){var e=this.chart;x(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),e.rangeSelector.render()},destroy:function(){var i=this,t=i.minInput,e=i.maxInput;i.unMouseDown(),i.unResize(),n(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),s.objectEach(i,function(t,e){t&&"chart"!==e&&(t.destroy?t.destroy():t.nodeType&&l(this[e])),t!==o.prototype[e]&&(i[e]=null)},this)}},k.prototype.toFixedRange=function(t,e,i,o){var r=this.chart&&this.chart.fixedRange,a=F(i,this.translate(t,!0,!this.horiz)),n=F(o,this.translate(e,!0,!this.horiz)),s=r&&(n-a)/r;return.7<s&&s<1.3&&(o?a=n-r:n=a+r),P(a)||(a=n=undefined),{min:a,max:n}},k.prototype.minFromRange=function(){var t,e,i,o=this.range,r={month:"Month",year:"FullYear"}[o.type],a=this.max,n=function(t,e){var i=new Date(t),o=i["get"+r]();return i["set"+r](o+e),o===i["get"+r]()&&i.setDate(0),i.getTime()-t};return P(o)?(t=a-o,i=o):(t=a+n(a,-o.count),this.chart&&(this.chart.fixedRange=a-t)),e=F(this.dataMin,Number.MIN_VALUE),P(t)||(t=e),t<=e&&(t=e,i===undefined&&(i=n(t,o.count)),this.newMax=Math.min(t+i,this.dataMax)),P(a)||(t=undefined),t},e(t.prototype,"init",function(t,e,i){M(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new o(this))}),t.call(this,e,i)}),e(t.prototype,"render",function(t,e,i){var o,r=this,a=r.axes,n=r.rangeSelector;n&&(N(a,function(t){t.updateNames(),t.setScale()}),r.getAxisMargins(),n.render(),o=n.options.verticalAlign,n.options.floating||("bottom"===o?this.extraBottomMargin=!0:"middle"!==o&&(this.extraTopMargin=!0))),t.call(this,e,i)}),e(t.prototype,"update",function(t,e,i,o){var r,a=this,n=a.rangeSelector;this.extraBottomMargin=!1,this.extraTopMargin=!1,n&&(n.render(),r=e.rangeSelector&&e.rangeSelector.verticalAlign||n.options&&n.options.verticalAlign,n.options.floating||("bottom"===r?this.extraBottomMargin=!0:"middle"!==r&&(this.extraTopMargin=!0))),t.call(this,s.merge(!0,e,{chart:{marginBottom:F(e.chart&&e.chart.marginBottom,a.margin.bottom),spacingBottom:F(e.chart&&e.chart.spacingBottom,a.spacing.bottom)}}),i,o)}),e(t.prototype,"redraw",function(t,e,i){var o,r=this.rangeSelector;r&&!r.options.floating&&(r.render(),"bottom"===(o=r.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==o&&(this.extraTopMargin=!0)),t.call(this,e,i)}),t.prototype.adjustPlotArea=function(){var t,e=this.rangeSelector;this.rangeSelector&&(t=e.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))},t.prototype.callbacks.push(function(t){function e(){i=t.xAxis[0].getExtremes(),P(i.min)&&a.render(i.min,i.max)}var i,o,r,a=t.rangeSelector;a&&(r=M(t.xAxis[0],"afterSetExtremes",function(t){a.render(t.min,t.max)}),o=M(t,"redraw",e),e()),M(t,"destroy",function n(){a&&(o(),r())})}),s.RangeSelector=o}(t),ft=(gt=t).arrayMax,xt=gt.arrayMin,mt=gt.Axis,vt=gt.Chart,bt=gt.defined,yt=gt.each,Mt=gt.extend,kt=gt.format,At=gt.grep,wt=gt.inArray,St=gt.isNumber,Bt=gt.isString,Pt=gt.map,Dt=gt.merge,Tt=gt.pick,Ct=gt.Point,Et=gt.Renderer,Ot=gt.Series,Lt=gt.splat,zt=gt.SVGRenderer,It=gt.VMLRenderer,Rt=gt.wrap,Wt=Ot.prototype,Xt=Wt.init,Gt=Wt.processData,Ht=Ct.prototype.tooltipFormatter,gt.StockChart=gt.stockChart=function(t,e,i){var o,r=Bt(t)||t.nodeName,a=arguments[r?1:0],n=a.series,s=gt.getOptions(),l=Tt(a.navigator&&a.navigator.enabled,s.navigator.enabled,!0),h=l?{startOnTick:!1,endOnTick:!1}:null,c={marker:{enabled:!1,radius:2}},p={shadow:!1,borderWidth:0};return a.xAxis=Pt(Lt(a.xAxis||{}),function(t){return Dt({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},s.xAxis,t,{type:"datetime",categories:null},h)}),a.yAxis=Pt(Lt(a.yAxis||{}),function(t){return o=Tt(t.opposite,!0),Dt({labels:{y:-2},opposite:o,showLastLabel:!1,title:{text:null}},s.yAxis,t)}),a.series=null,(a=Dt({chart:{panning:!0,pinchType:"x"},navigator:{enabled:l},scrollbar:{enabled:Tt(s.scrollbar.enabled,!0)},rangeSelector:{enabled:Tt(s.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:c,spline:c,area:c,areaspline:c,arearange:c,areasplinerange:c,column:p,columnrange:p,candlestick:p,ohlc:p}},a,{isStock:!0})).series=n,r?new vt(t,a,i):new vt(a,e)},Rt(mt.prototype,"autoLabelAlign",function(t){var e,i=this.chart,o=this.options,r=i._labelPanes=i._labelPanes||{},a=this.options.labels;return this.chart.options.isStock&&"yAxis"===this.coll&&!r[e=o.top+","+o.height]&&a.enabled?(15===a.x&&(a.x=0),a.align===undefined&&(a.align="right"),r[e]=this,"right"):t.apply(this,[].slice.call(arguments,1))}),Rt(mt.prototype,"destroy",function(t){var e=this.chart,i=this.options&&this.options.top+","+this.options.height;return i&&e._labelPanes&&e._labelPanes[i]===this&&delete e._labelPanes[i],t.apply(this,Array.prototype.slice.call(arguments,1))}),Rt(mt.prototype,"getPlotLinePath",function(t,e,i,o,r,a){function n(t){var e="xAxis"===t?"yAxis":"xAxis",i=g.options[e];return St(i)?[x[e][i]]:Bt(i)?[x.get(i)]:Pt(f,function(t){return t[e]})}var s,l,h,c,p,d,u,g=this,f=this.isLinked&&!this.series?this.linkedParent.series:this.series,x=g.chart,m=x.renderer,v=g.left,b=g.top,y=[],M=[];return"xAxis"!==g.coll&&"yAxis"!==g.coll?t.apply(this,[].slice.call(arguments,1)):(M=n(g.coll),p=g.isXAxis?x.yAxis:x.xAxis,yt(p,function(t){if(!bt(t.options.id)||-1===t.options.id.indexOf("navigator")){var e=t.isXAxis?"yAxis":"xAxis",i=bt(t.options[e])?x[e][t.options[e]]:x[e][0];g===i&&M.push(t)}}),d=M.length?[]:[g.isXAxis?x.yAxis[0]:x.xAxis[0]],yt(M,function(e){-1!==wt(e,d)||gt.find(d,function(t){return t.pos===e.pos&&t.len&&e.len})||d.push(e)}),u=Tt(a,g.translate(e,null,null,o)),St(u)&&(g.horiz?yt(d,function(t){var e;l=t.pos,c=l+t.len,((s=h=Math.round(u+g.transB))<v||s>v+g.width)&&(r?s=h=Math.min(Math.max(v,s),v+g.width):e=!0),e||y.push("M",s,l,"L",h,c)}):yt(d,function(t){var e;s=t.pos,h=s+t.len,((l=c=Math.round(b+g.height-u))<b||l>b+g.height)&&(r?l=c=Math.min(Math.max(b,l),g.top+g.height):e=!0),e||y.push("M",s,l,"L",h,c)})),0<y.length?m.crispPolyLine(y,i||1):null)}),zt.prototype.crispPolyLine=function(t,e){var i;for(i=0;i<t.length;i+=6)t[i+1]===t[i+4]&&(t[i+1]=t[i+4]=Math.round(t[i+1])-e%2/2),t[i+2]===t[i+5]&&(t[i+2]=t[i+5]=Math.round(t[i+2])+e%2/2);return t},Et===It&&(It.prototype.crispPolyLine=zt.prototype.crispPolyLine),Rt(mt.prototype,"hideCrosshair",function(t,e){t.call(this,e),this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),Rt(mt.prototype,"drawCrosshair",function(t,e,i){if(t.call(this,e,i),bt(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var o,r,a,n,s,l,h=this.chart,c=this.options.crosshair.label,p=this.horiz,d=this.opposite,u=this.left,g=this.top,f=this.crossLabel,x=c.format,m="",v="inside"===this.options.tickPosition,b=!1!==this.crosshair.snap,y=0;e||(e=this.cross&&this.cross.e),s=p?"center":d?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",f||(f=this.crossLabel=h.renderer.label(null,null,null,c.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:c.align||s,padding:Tt(c.padding,8),r:Tt(c.borderRadius,3),zIndex:2}).add(this.labelGroup)).attr({fill:c.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:c.borderColor||"","stroke-width":c.borderWidth||0}).css(Mt({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},c.style)),p?(o=b?i.plotX+u:e.chartX,r=g+(d?0:this.height)):(o=d?this.width+u:0,r=b?i.plotY+g:e.chartY),x||c.formatter||(this.isDatetimeAxis&&(m="%b %d, %Y"),x="{value"+(m?":"+m:"")+"}"),l=b?i[this.isXAxis?"x":"y"]:this.toValue(p?e.chartX:e.chartY),f.attr({text:x?kt(x,{value:l}):c.formatter.call(this,l),x:o,y:r,visibility:"visible"}),a=f.getBBox(),p?(v&&!d||!v&&d)&&(r=f.y-a.height):r=f.y-a.height/2,n=p?{
left:u-a.x,right:u+this.width-a.x}:{left:"left"===this.labelAlign?u:0,right:"right"===this.labelAlign?u+this.width:h.chartWidth},f.translateX<n.left&&(y=n.left-f.translateX),f.translateX+a.width>=n.right&&(y=-(f.translateX+a.width-n.right)),f.attr({x:o+y,y:r,anchorX:p?o:this.opposite?0:h.chartWidth,anchorY:p?this.opposite?h.chartHeight:0:r+a.height/2})}}),Wt.init=function(){Xt.apply(this,arguments),this.setCompare(this.options.compare)},Wt.setCompare=function(o){this.modifyValue="value"===o||"percent"===o?function(t,e){var i=this.compareValue;if(t!==undefined&&i!==undefined)return"value"===o?t-=i:t=t/i*100-(100===this.options.compareBase?0:100),e&&(e.change=t),t}:null,this.userOptions.compare=o,this.chart.hasRendered&&(this.isDirty=!0)},Wt.processData=function(){var t,e,i,o,r,a=this,n=-1,s=!0===a.options.compareStart?0:1;if(Gt.apply(this,arguments),a.xAxis&&a.processedYData)for(e=a.processedXData,o=(i=a.processedYData).length,a.pointArrayMap&&-1===(n=wt("close",a.pointArrayMap))&&(n=wt(a.pointValKey||"y",a.pointArrayMap)),t=0;t<o-s;t++)if(r=i[t]&&-1<n?i[t][n]:i[t],St(r)&&e[t+s]>=a.xAxis.min&&0!==r){a.compareValue=r;break}},Rt(Wt,"getExtremes",function(t){var e;t.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(e=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=xt(e),this.dataMax=ft(e))}),mt.prototype.setCompare=function(e,t){this.isXAxis||(yt(this.series,function(t){t.setCompare(e)}),Tt(t,!0)&&this.chart.redraw())},Ct.prototype.tooltipFormatter=function(t){var e=this;return t=t.replace("{point.change}",(0<e.change?"+":"")+gt.numberFormat(e.change,Tt(e.series.tooltipOptions.changeDecimals,2))),Ht.apply(this,[t])},Rt(Ot.prototype,"render",function(t){this.chart.is3d&&this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(!this.clipBox&&this.animate?(this.clipBox=Dt(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len)),t.call(this)}),Rt(vt.prototype,"getSelectedPoints",function(t){var e=t.call(this);return yt(this.series,function(t){t.hasGroupedData&&(e=e.concat(At(t.points||[],function(t){return t.selected})))}),e}),Rt(vt.prototype,"update",function(t,e){return"scrollbar"in e&&this.navigator&&(Dt(!0,this.options.scrollbar,e.scrollbar),this.navigator.update({},!1),delete e.scrollbar),t.apply(this,Array.prototype.slice.call(arguments,1))})});