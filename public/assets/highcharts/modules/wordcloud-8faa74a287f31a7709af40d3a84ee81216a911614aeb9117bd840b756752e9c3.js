"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var d,r,e,a,M,i,n,A,o,l,c,s,h,u,p,C,S,f,g,W,P,m,x,y,b=(d=function(t){return"function"==typeof t},function w(t){var e=this,i=e.graphic,n=t.animate,o=t.attr,r=t.onComplete,a=t.css,l=t.group,s=t.renderer,h=t.shapeArgs,c=t.shapeType;e.shouldDraw()?(i||(e.graphic=i=s[c](h).add(l)),i.css(a).attr(o).animate(n,undefined,r)):i&&i.animate(n,undefined,function(){e.graphic=i=i.destroy(),d(r)&&r()}),i&&i.addClass(e.getClassName(),!0)});e=b,a=(r=t).each,M=r.extend,i=r.isArray,n=r.isNumber,A=r.isObject,o=r.Series,l=function l(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)},c=function c(i,t){var n,e=!1,o=i.rect;return i.lastCollidedWith&&(n=i.lastCollidedWith.rect,(e=l(o,n))||delete i.lastCollidedWith),e||(e=!!r.find(t,function(t){var e;return n=t.rect,(e=l(o,n))&&(i.lastCollidedWith=t),e})),e},s=function s(t,e){var i=e.field,n=!1,o=i.width*i.width+i.height*i.height,r=.2*t;return t<=1e4&&(n={x:r*Math.cos(r),y:r*Math.sin(r)},Math.min(Math.abs(n.x),Math.abs(n.y))<o||(n=!1)),n},h=function h(t){var e=Math.ceil((Math.sqrt(t)-1)/2),i=2*e+1,n=Math.pow(i,2),o=function(t){return"boolean"==typeof t},r=!1;return i-=1,t<=1e4&&(o(r)&&n-i<=t&&(r={x:e-(n-t),y:-e}),n-=i,o(r)&&n-i<=t&&(r={x:-e,y:n-t-e}),n-=i,o(r)&&(r=n-i<=t?{x:n-t-e,y:e}:{x:e,y:e-(n-t-i)}),r.x*=5,r.y*=5),r},u=function u(t,e){var i=h(t,e),n=e.field;return i&&(i.x*=n.ratio),i},p=function p(t){return Math.round(t*(Math.random()+.5)/2)},C=function C(t,e,i){var n=2*Math.max(Math.abs(i.top),Math.abs(i.bottom)),o=1/(2*Math.max(Math.abs(i.left),Math.abs(i.right)))*t,r=1/n*e;return Math.min(o,r)},S=function S(t,e){var i=t/e;return{width:256*i,height:256,ratio:i}},f=function f(t,e,i){var n=(i-e)/(t-1);return e+Math.floor(Math.random()*t)*n},g=function g(t,e){var i=t.getBBox(),n={left:-e.width/2,right:e.width/2,top:-e.height/2,bottom:e.height/2};return!(n.left<i.x&&n.right>i.x+i.width&&n.top<i.y&&n.bottom>i.y+i.height)},m={animation:{duration:500},borderWidth:0,clip:!(P=function P(t,e){return(!n(t.left)||t.left>e.left)&&(t.left=e.left),(!n(t.right)||t.right<e.right)&&(t.right=e.right),(!n(t.top)||t.top>e.top)&&(t.top=e.top),(!n(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}),colorByPoint:!0,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!(W=function W(t,e){for(var i=e.placed,n=e.element,o=e.field,r=e.clientRect,a=e.spiral,l=1,s={x:0,y:0},h=t.rect=M({},r);(c(t,i)||g(n,o))&&!1!==s;)s=a(l,{field:o}),A(s)&&(h.left=r.left+s.x,h.right=h.left+h.width,h.top=r.top+s.y,h.bottom=h.top+h.height),l++;return s}),spiral:"rectangular",style:{fontFamily:"Impact, sans-serif"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.weight}</b><br/>'}},x={animate:o.prototype.animate,bindAxes:function(){var t={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};o.prototype.bindAxes.call(this),M(this.yAxis.options,t),M(this.xAxis.options,t)},deriveFontSize:function v(t){var e=25;return Math.floor(e*t)},drawPoints:function(){var t,s=this,h=s.hasRendered,e=s.xAxis,i=s.yAxis,n=s.chart,c=s.group,d=s.options,u=d.animation,p=n.renderer,f=p.text().add(c),g=[],m=s.placementStrategy[d.placementStrategy],x=s.spirals[d.spiral],y=d.rotation,o=s.points.map(function(t){return t.weight}),b=Math.max.apply(null,o),w=S(e.len,i.len),v=s.points.sort(function(t,e){return e.weight-t.weight});a(v,function(t){var e,i,n,o=1/b*t.weight,r=M({fontSize:s.deriveFontSize(o)+"px",fill:t.color},d.style),a=m(t,{data:v,field:w,placed:g,rotation:y}),l={align:"center",x:a.x,y:a.y,text:t.name,rotation:a.rotation};f.css(r).attr(l),t.clientRect=n=M({},f.element.getBoundingClientRect()),i=W(t,{clientRect:n,element:f,field:w,placed:g,spiral:x}),A(i)?(l.x+=i.x,l.y+=i.y,M(a,{left:l.x-n.width/2,right:l.x+n.width/2,top:l.y-n.height/2,bottom:l.y+n.height/2}),w=P(w,a),g.push(t),t.isNull=!1):t.isNull=!0,u&&(e={x:l.x,y:l.y},h?(delete l.x,delete l.y):(l.x=0,l.y=0)),t.draw({animate:e,attr:l,css:r,group:c,renderer:p,shapeArgs:undefined,shapeType:"text"})}),f=f.destroy(),t=C(e.len,i.len,w),s.group.attr({scaleX:t,scaleY:t})},hasData:function(){var t=this;return A(t)&&!0===t.visible&&i(t.points)&&0<t.points.length},placementStrategy:{random:function T(t,e){var i=e.field,n=e.rotation;return{x:p(i.width)-i.width/2,y:p(i.height)-i.height/2,rotation:f(n.orientations,n.from,n.to)}},center:function B(t,e){var i=e.rotation;return{x:0,y:0,rotation:f(i.orientations,i.from,i.to)}}},pointArrayMap:["weight"],spirals:{archimedean:s,rectangular:u,square:h},getPlotBox:function(){var t=this,e=t.chart,i=e.inverted,n=t[i?"yAxis":"xAxis"],o=t[i?"xAxis":"yAxis"],r=n?n.len:e.plotWidth,a=o?o.len:e.plotHeight;return{translateX:(n?n.left:e.plotLeft)+r/2,translateY:(o?o.top:e.plotTop)+a/2,scaleX:1,scaleY:1}}},y={draw:e,shouldDraw:function N(){return!this.isNull}},r.seriesType("wordcloud","column",m,x,y)});