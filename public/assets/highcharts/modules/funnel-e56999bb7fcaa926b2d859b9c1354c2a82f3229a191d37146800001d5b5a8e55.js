"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){var t,a,r,T,p,I;a=(t=e).seriesType,r=t.seriesTypes,T=t.noop,p=t.pick,I=t.each,a("funnel","pie",{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1},states:{select:{color:"#cccccc",borderColor:"#000000",shadow:!1}}},{animate:T,translate:function(){var t,n,a,i,o,s,l,c,r,p,h,e=function(e,t){return/%$/.test(e)?t*parseInt(e,10)/100:parseInt(e,10)},d=0,u=this,b=u.chart,f=u.options,g=f.reversed,L=f.ignoreHiddenPoint,m=b.plotWidth,y=b.plotHeight,D=0,v=f.center,k=e(v[0],m),H=e(v[1],y),W=e(f.width,m),w=e(f.height,y),x=e(f.neckWidth,m),Y=e(f.neckHeight,y),X=H-w/2+w-Y,A=u.data,P="left"===f.dataLabels.position?1:0;u.getWidthAt=n=function(e){return X<e||w===Y?x:x+(W-x)*(1-(e-(H-w/2))/(w-Y))},u.getX=function(e,t,a){return k+(t?-1:1)*(n(g?2*H-e:e)/2+a.labelDistance)},u.center=[k,H,w],u.centerX=k,I(A,function(e){L&&!1===e.visible||(d+=e.y)}),I(A,function(e){h=null,i=d?e.y/d:0,r=(s=H-w/2+D*w)+i*w,t=n(s),l=(o=k-t/2)+t,t=n(r),p=(c=k-t/2)+t,X<s?(o=c=k-x/2,l=p=k+x/2):X<r&&(h=r,t=n(X),p=(c=k-t/2)+t,r=X),g&&(s=2*H-s,r=2*H-r,h=h?2*H-h:null),a=["M",o,s,"L",l,s,p,r],h&&a.push(p,h,c,h),a.push(c,r,"Z"),e.shapeType="path",e.shapeArgs={d:a},e.percentage=100*i,e.plotX=k,e.plotY=(s+(h||r))/2,e.tooltipPos=[k,e.plotY],e.slice=T,e.half=P,L&&!1===e.visible||(D+=i)})},sortByAngle:function(e){e.sort(function(e,t){return e.plotY-t.plotY})},drawDataLabels:function(){var e,t,a,n,i,o=this,s=o.data,l=o.options.dataLabels.distance,c=s.length;for(o.center[2]-=2*l;c--;)t=(e=(a=s[c]).half)?1:-1,i=a.plotY,a.labelDistance=p(a.options.dataLabels&&a.options.dataLabels.distance,l),o.maxLabelDistance=Math.max(a.labelDistance,o.maxLabelDistance||0),n=o.getX(i,e,a),a.labelPos=[0,i,n+(a.labelDistance-5)*t,i,n+a.labelDistance*t,i,e?"right":"left",0];r.pie.prototype.drawDataLabels.call(this)}}),a("pyramid","funnel",{neckWidth:"0%",neckHeight:"0%",reversed:!0})});