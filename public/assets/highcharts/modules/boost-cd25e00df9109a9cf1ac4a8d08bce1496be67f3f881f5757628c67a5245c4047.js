"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){!function(ee){function a(){var e=Array.prototype.slice.call(arguments),t=-Number.MAX_VALUE;return te(e,function(e){if(null!=e&&"undefined"!=typeof e.length&&0<e.length)return t=e.length,!0}),t}function o(e){var t,i=0,o=0,r=!0;if("undefined"!=typeof e.boostForceChartBoost)return e.boostForceChartBoost;if(r=e.options.boost&&"undefined"!=typeof e.options.boost.allowForce?e.options.boost.allowForce:r,1<e.series.length)for(var n=0;n<e.series.length;n++)t=e.series[n],m[t.type]&&++o,a(t.processedXData,t.options.data,t.points)>=(t.options.boostThreshold||Number.MAX_VALUE)&&++i;return e.boostForceChartBoost=r&&o===e.series.length&&0<i||5<i,e.boostForceChartBoost}function _(a){function o(e,t){var i="vertex"===t?a.VERTEX_SHADER:a.FRAGMENT_SHADER,o=a.createShader(i);return a.shaderSource(o,e),a.compileShader(o),!!a.getShaderParameter(o,a.COMPILE_STATUS)&&o}function e(){function e(e){return a.getUniformLocation(m,e)}var t=o(w,"vertex"),i=o(B,"fragment");return t&&i?(m=a.createProgram(),a.attachShader(m,t),a.attachShader(m,i),a.linkProgram(m),a.useProgram(m),a.bindAttribLocation(m,0,"aVertexPosition"),x=e("uPMatrix"),y=e("pSize"),A=e("fillColor"),v=e("isBubble"),T=e("bubbleSizeAbs"),P=e("bubbleSizeByArea"),E=e("uSampler"),S=e("skipTranslation"),C=e("isCircle"),M=e("isInverted"),k=e("plotHeight"),!0):m=!1}function t(){a&&m&&(a.deleteProgram(m),m=!1)}function i(){a.useProgram(m)}function s(e,t){var i=D[e]=D[e]||a.getUniformLocation(m,e);a.uniform1f(i,t)}function r(){a.uniform1i(E,0)}function n(e){a.uniform1i(M,e)}function l(e){a.uniform1i(C,e?1:0)}function f(e){a.uniform1f(k,e)}function u(){a.uniform1i(v,0),a.uniform1i(C,0)}function d(e,t,i){var o=e.options,r=Number.MAX_VALUE,n=-Number.MAX_VALUE;"bubble"===e.type&&(r=Z(o.zMin,Math.min(r,Math.max(t,!1===o.displayNegative?o.zThreshold:-Number.MAX_VALUE))),n=Z(o.zMax,Math.max(n,i)),a.uniform1i(v,1),a.uniform1i(C,1),a.uniform1i(P,"width"!==e.options.sizeBy),a.uniform1i(T,e.options.sizeByAbsoluteValue),s("bubbleZMin",r),s("bubbleZMax",n),s("bubbleZThreshold",e.options.zThreshold),s("bubbleMinSize",e.minPxSize),s("bubbleMaxSize",e.maxPxSize))}function h(e){a.uniform4f(A,e[0]/255,e[1]/255,e[2]/255,e[3])}function c(e){a.uniform1i(S,!0===e?1:0)}function p(e){a.uniformMatrix4fv(x,!1,e)}function b(e){a.uniform1f(y,e)}function g(){return m}var m,x,y,A,v,T,P,S,C,M,k,E,w=["#version 100","precision highp float;","attribute vec4 aVertexPosition;","attribute vec4 aColor;","varying highp vec2 position;","varying highp vec4 vColor;","uniform mat4 uPMatrix;","uniform float pSize;","uniform float translatedThreshold;","uniform bool hasThreshold;","uniform bool skipTranslation;","uniform float plotHeight;","uniform float xAxisTrans;","uniform float xAxisMin;","uniform float xAxisMinPad;","uniform float xAxisPointRange;","uniform float xAxisLen;","uniform bool  xAxisPostTranslate;","uniform float xAxisOrdinalSlope;","uniform float xAxisOrdinalOffset;","uniform float xAxisPos;","uniform bool  xAxisCVSCoord;","uniform float yAxisTrans;","uniform float yAxisMin;","uniform float yAxisMinPad;","uniform float yAxisPointRange;","uniform float yAxisLen;","uniform bool  yAxisPostTranslate;","uniform float yAxisOrdinalSlope;","uniform float yAxisOrdinalOffset;","uniform float yAxisPos;","uniform bool  yAxisCVSCoord;","uniform bool  isBubble;","uniform bool  bubbleSizeByArea;","uniform float bubbleZMin;","uniform float bubbleZMax;","uniform float bubbleZThreshold;","uniform float bubbleMinSize;","uniform float bubbleMaxSize;","uniform bool  bubbleSizeAbs;","uniform bool  isInverted;","float bubbleRadius(){","float value = aVertexPosition.w;","float zMax = bubbleZMax;","float zMin = bubbleZMin;","float radius = 0.0;","float pos = 0.0;","float zRange = zMax - zMin;","if (bubbleSizeAbs){","value = value - bubbleZThreshold;","zMax = max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);","zMin = 0.0;","}","if (value < zMin){","radius = bubbleZMin / 2.0 - 1.0;","} else {","pos = zRange > 0.0 ? (value - zMin) / zRange : 0.5;","if (bubbleSizeByArea && pos > 0.0){","pos = sqrt(pos);","}","radius = ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;","}","return radius * 2.0;","}","float translate(float val,","float pointPlacement,","float localA,","float localMin,","float minPixelPadding,","float pointRange,","float len,","bool  cvsCoord","){","float sign = 1.0;","float cvsOffset = 0.0;","if (cvsCoord) {","sign *= -1.0;","cvsOffset = len;","}","return sign * (val - localMin) * localA + cvsOffset + ","(sign * minPixelPadding);","}","float xToPixels(float value){","if (skipTranslation){","return value;// + xAxisPos;","}","return translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord);// + xAxisPos;","}","float yToPixels(float value, float checkTreshold){","float v;","if (skipTranslation){","v = value;// + yAxisPos;","} else {","v = translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord);// + yAxisPos;","if (v > plotHeight) {","v = plotHeight;","}","}","if (checkTreshold > 0.0 && hasThreshold) {","v = min(v, translatedThreshold);","}","return v;","}","void main(void) {","if (isBubble){","gl_PointSize = bubbleRadius();","} else {","gl_PointSize = pSize;","}","vColor = aColor;","if (isInverted) {","gl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.y) + yAxisPos, yToPixels(aVertexPosition.x, aVertexPosition.z) + xAxisPos, 0.0, 1.0);","} else {","gl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);","}","}"].join("\n"),B=["precision highp float;","uniform vec4 fillColor;","varying highp vec2 position;","varying highp vec4 vColor;","uniform sampler2D uSampler;","uniform bool isCircle;","uniform bool hasColor;","void main(void) {","vec4 col = fillColor;","vec4 tcol;","if (hasColor) {","col = vColor;","}","if (isCircle) {","tcol = texture2D(uSampler, gl_PointCoord.st);","col *= tcol;","if (tcol.r < 0.0) {","discard;","} else {","gl_FragColor = col;","}","} else {","gl_FragColor = col;","}","}"].join("\n"),D={};return a&&e(),{psUniform:function(){return y},pUniform:function(){return x},fillColorUniform:function(){return A},setPlotHeight:f,setBubbleUniforms:d,bind:i,program:g,create:e,setUniform:s,setPMatrix:p,setColor:h,setPointSize:b,setSkipTranslation:c,setTexture:r,setDrawAsCircle:l,reset:u,setInverted:n,destroy:t}}function U(r,n,e){function a(){u&&(r.deleteBuffer(u),d=u=!1),p=0,h=e||2,f=[]}function t(e,t,i){var o;return(f=e||[])&&0!==f.length||c?(h=i||h,u&&r.deleteBuffer(u),c||(o=new Float32Array(f)),u=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,u),r.bufferData(r.ARRAY_BUFFER,c||o,r.STATIC_DRAW),d=r.getAttribLocation(n.program(),t),r.enableVertexAttribArray(d),!(o=!1)):(a(),!1)}function i(){if(!u)return!1;r.vertexAttribPointer(d,h,r.FLOAT,!1,0,0)}function o(e,t,i){var o=c?c.length:f.length;return!!u&&(!!o&&((!e||o<e||e<0)&&(e=0),(!t||o<t)&&(t=o),i=i||"points",r.drawArrays(r[i.toUpperCase()],e/h,(t-e)/h),!0))}function s(e,t,i,o){c&&(c[++p]=e,c[++p]=t,c[++p]=i,c[++p]=o)}function l(e){p=-1,c=new Float32Array(e*=4)}var f,u=!1,d=!1,h=e||2,c=!1,p=0;return{destroy:a,bind:i,data:f,build:t,render:o,allocate:l,push:s}}function l(t){function e(e){q(!0,$,e)}function i(e){var t,i,o;return e.isSeriesBoosting?(t=!!e.options.stacking,i=e.xData||e.options.xData||e.processedXData,o=(t?e.data:i||e.options.data).length,"treemap"===e.type?o*=12:"heatmap"===e.type?o*=6:Q[e.type]&&(o*=2),o):0}function o(e){var t=0;$.usePreallocated&&(te(e.series,function(e){e.isSeriesBoosting&&(t+=i(e))}),K.allocate(t))}function r(e){var t=0;$.usePreallocated&&(e.isSeriesBoosting&&(t=i(e)),K.allocate(t))}function n(e,t){var i=0,o=1;return[2/e,0,0,0,0,-2/t,0,0,0,0,-2/(o-i),0,-1,1,-(o+i)/(o-i),1]}function a(){P.clear(P.COLOR_BUFFER_BIT|P.DEPTH_BUFFER_BIT)}function s(){return P}function l(n,t){function a(e){e&&(t.colorData.push(e[0]),t.colorData.push(e[1]),t.colorData.push(e[2]),t.colorData.push(e[3]))}function s(e,t,i,o,r){a(r),$.usePreallocated?K.push(e,t,i?1:0,o||1):(J.push(e),J.push(t),J.push(i?1:0),J.push(o||1))}function l(e,t,i,o,r){a(r),s(e+i,t),a(r),s(e,t),a(r),s(e,t+o),a(r),s(e,t+o),a(r),s(e+i,t+o),a(r),s(e+i,t)}function e(e){$.useGPUTranslations||(t.skipTranslation=!0,e.x=E.toPixels(e.x,!0),e.y=k.toPixels(e.y,!0)),s(e.x,e.y,0,2)}var i,f,u,o,r,d,h,c=n.pointArrayMap&&"low,high"===n.pointArrayMap.join(","),p=n.chart,b=n.options,g=!!b.stacking,m=b.data,x=n.xAxis.getExtremes(),y=x.min,A=x.max,v=n.yAxis.getExtremes(),T=v.min,P=v.max,S=n.xData||b.xData||n.processedXData,C=n.yData||b.yData||n.processedYData,M=n.zData||b.zData||n.processedZData,k=n.yAxis,E=n.xAxis,w=n.chart.plotHeight,B=!S||0===S.length,D=n.points||!1,R=!1,z=!1,_=g?n.data:S||m,U={x:Number.MIN_VALUE,y:0},F={x:Number.MIN_VALUE,y:0},L=0,N=1,O=1,X=-1,G=!1,V=!1,I="undefined"==typeof p.index,H=!1,q=!1,Z=!1,W=Q[n.type],Y=!1,j=!0;if(!(b.boostData&&0<b.boostData.length)){if(n.closestPointRangePx=Number.MAX_VALUE,D&&0<D.length)return t.skipTranslation=!0,t.drawMode="triangles",D[0].node&&D[0].node.levelDynamic&&D.sort(function(e,t){if(e.node){if(e.node.levelDynamic>t.node.levelDynamic)return 1;if(e.node.levelDynamic<t.node.levelDynamic)return-1}return 0}),void te(D,function(e){var t,i,o,r=e.plotY;void 0===r||isNaN(r)||null===e.y||(t=e.shapeArgs,i=(o=e.series.pointAttribs(e))["stroke-width"]||0,(f=ee.color(o.fill).rgba)[0]/=255,f[1]/=255,f[2]/=255,"treemap"===n.type&&(i=i||1,(u=ee.color(o.stroke).rgba)[0]/=255,u[1]/=255,u[2]/=255,l(t.x,t.y,t.width,t.height,u),i/=2),"heatmap"===n.type&&p.inverted&&(t.x=E.len-t.x,t.y=k.len-t.y,t.width=-t.width,t.height=-t.height),l(t.x+i,t.y+i,t.width-2*i,t.height-2*i,f))});for(;X<_.length-1&&(d=_[++X],!I);)B?(o=d[0],r=d[1],_[X+1]&&(V=_[X+1][0]),_[X-1]&&(G=_[X-1][0]),3<=d.length&&(h=d[2],d[2]>t.zMax&&(t.zMax=d[2]),d[2]<t.zMin&&(t.zMin=d[2]))):(o=d,r=C[X],_[X+1]&&(V=_[X+1]),_[X-1]&&(G=_[X-1]),M&&M.length&&(h=M[X],M[X]>t.zMax&&(t.zMax=M[X]),M[X]<t.zMin&&(t.zMin=M[X]))),V&&y<=V&&V<=A&&(H=!0),G&&y<=G&&G<=A&&(q=!0),c?(B&&(r=d.slice(1,3)),r[0],r=r[1]):g&&(o=d.x,(r=d.stackY)-d.y),n.requireSorting||(j=T<=r&&r<=P),A<o&&F.x<A&&(F.x=o,F.y=r),o<y&&U.x<y&&(U.x=o,U.y=r),(0===r||r&&j)&&(y<=o&&o<=A&&(Y=!0),(Y||H||q)&&($.useGPUTranslations||(t.skipTranslation=!0,o=E.toPixels(o,!0),w<(r=k.toPixels(r,!0))&&(r=w)),W&&(r<(i=0)&&(i=r,r=0),$.useGPUTranslations||(i=k.toPixels(i,!0)),s(o,i,0,0,Z)),t.hasMarkers&&!1!==R&&(n.closestPointRangePx=Math.min(n.closestPointRangePx,Math.abs(o-R))),!$.useGPUTranslations&&!$.usePreallocated&&R&&o-R<N&&z&&Math.abs(r-z)<O?$.debug.showSkipSummary&&++L:(b.step&&s(o,z,0,2,Z),s(o,r,0,"bubble"===n.type?h||1:2,Z),R=o,z=r)));$.debug.showSkipSummary&&console.log("skipped points:",L),R||(e(U),e(F))}}function f(e){0<B.length&&(B[B.length-1].to=J.length,B[B.length-1].hasMarkers&&(B[B.length-1].markerTo=M.length)),$.debug.timeSeriesProcessing&&console.time("building "+e.type+" series"),B.push({from:J.length,markerFrom:M.length,colorData:[],series:e,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,hasMarkers:!!e.options.marker&&!1!==e.options.marker.enabled,showMarksers:!0,drawMode:{area:"lines",arearange:"lines",areaspline:"line_strip",column:"lines",bar:"lines",line:"line_strip",scatter:"points",heatmap:"triangles",treemap:"triangles",bubble:"points"}[e.type]||"line_strip"}),l(e,B[B.length-1]),$.debug.timeSeriesProcessing&&console.timeEnd("building "+e.type+" series")}function u(){B=[],E.data=J=[],M=[],K&&K.destroy()}function d(e){T&&(T.setUniform("xAxisTrans",e.transA),T.setUniform("xAxisMin",e.min),T.setUniform("xAxisMinPad",e.minPixelPadding),T.setUniform("xAxisPointRange",e.pointRange),T.setUniform("xAxisLen",e.len),T.setUniform("xAxisPos",e.pos),T.setUniform("xAxisCVSCoord",!e.horiz))}function h(e){T&&(T.setUniform("yAxisTrans",e.transA),T.setUniform("yAxisMin",e.min),T.setUniform("yAxisMinPad",e.minPixelPadding),T.setUniform("yAxisPointRange",e.pointRange),T.setUniform("yAxisLen",e.len),T.setUniform("yAxisPos",e.pos),T.setUniform("yAxisCVSCoord",!e.horiz))}function c(e,t){T.setUniform("hasThreshold",e),T.setUniform("translatedThreshold",t)}function p(e){return!!e&&(!e.chartHeight||e.chartWidth,S=e.chartWidth||800,C=e.chartHeight||400,!!(P&&S&&C)&&($.debug.timeRendering&&console.time("gl rendering"),P.canvas.width=S,P.canvas.height=C,T.bind(),P.viewport(0,0,S,C),T.setPMatrix(n(S,C)),T.setPlotHeight(e.plotHeight),1<$.lineWidth&&!ee.isMS&&P.lineWidth($.lineWidth),K.build(E.data,"aVertexPosition",4),K.bind(),k&&(P.bindTexture(P.TEXTURE_2D,v),T.setTexture(v)),T.setInverted(e.inverted),te(B,function(e,t){var i,o,r=e.series.options,n=r.threshold,a=H(n),s=e.series.yAxis.getThreshold(n),l=Z(r.marker?r.marker.enabled:null,!!e.series.xAxis.isRadial||null,e.series.closestPointRangePx>2*((r.marker?r.marker.radius:10)||10)),f=e.series.pointAttribs&&e.series.pointAttribs().fill||e.series.color;e.series.fillOpacity&&r.fillOpacity&&(f=new V(f).setOpacity(Z(r.fillOpacity,1)).get()),r.colorByPoint&&(f=e.series.chart.options.colors[t]),o=ee.color(f).rgba,$.useAlpha||(o[3]=1),"lines"===e.drawMode&&$.useAlpha&&o[3]<1&&(o[3]/=10),"add"===r.boostBlending?(P.blendFunc(P.SRC_ALPHA,P.ONE),P.blendEquation(P.FUNC_ADD)):"mult"===r.boostBlending?P.blendFunc(P.DST_COLOR,P.ZERO):"darken"===r.boostBlending?(P.blendFunc(P.ONE,P.ONE),P.blendEquation(P.FUNC_MIN)):P.blendFuncSeparate(P.SRC_ALPHA,P.ONE_MINUS_SRC_ALPHA,P.ONE,P.ONE_MINUS_SRC_ALPHA),T.reset(),0<e.colorData.length&&(T.setUniform("hasColor",1),(i=U(P,T)).build(e.colorData,"aColor",4),i.bind()),T.setColor(o),d(e.series.xAxis),h(e.series.yAxis),c(a,s),"points"===e.drawMode&&(r.marker&&r.marker.radius?T.setPointSize(2*r.marker.radius):T.setPointSize(1)),T.setSkipTranslation(e.skipTranslation),"bubble"===e.series.type&&T.setBubbleUniforms(e.series,e.zMin,e.zMax),T.setDrawAsCircle(z[e.series.type]&&k||!1),K.render(e.from,e.to,e.drawMode),e.hasMarkers&&l&&(r.marker&&r.marker.radius?T.setPointSize(2*r.marker.radius):T.setPointSize(10),T.setDrawAsCircle(!0),K.render(e.from,e.to,"POINTS"))}),$.debug.timeRendering&&console.timeEnd("gl rendering"),t&&t(),void u()))}function b(e){if(a(),e.renderer.forExport)return p(e);w?p(e):setTimeout(function(){b(e)},1)}function g(e,t){S===e&&t==t||(S=e,C=t,T.bind(),T.setPMatrix(n(S,C)))}function m(e,t){var i=0,o=["webgl","experimental-webgl","moz-webgl","webkit-3d"];if(w=!1,!e)return!1;for($.debug.timeSetup&&console.time("gl setup");i<o.length&&!(P=e.getContext(o[i],{}));i++);if(!P)return!1;t||u(),P.enable(P.BLEND),P.blendFunc(P.SRC_ALPHA,P.ONE_MINUS_SRC_ALPHA),P.disable(P.DEPTH_TEST),P.depthFunc(P.LESS),T=_(P),K=U(P,T),k=!1,v=P.createTexture(),D.width=512,D.height=512,R.mozImageSmoothingEnabled=!1,R.webkitImageSmoothingEnabled=!1,R.msImageSmoothingEnabled=!1,R.imageSmoothingEnabled=!1,R.strokeStyle="rgba(255, 255, 255, 0)",R.fillStyle="#FFF",R.beginPath(),R.arc(256,256,256,0,2*Math.PI),R.stroke(),R.fill();try{P.bindTexture(P.TEXTURE_2D,v),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,D),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.LINEAR),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.LINEAR),P.bindTexture(P.TEXTURE_2D,null),k=!0}catch(r){}return w=!0,$.debug.timeSetup&&console.timeEnd("gl setup"),!0}function x(){return!1!==P}function y(){return w}function A(){u(),K.destroy(),T.destroy(),P&&(v&&P.deleteTexture(v),P.canvas.width=1,P.canvas.height=1)}var v,T=!1,K=!1,P=!1,S=0,C=0,J=!1,M=!1,k=!1,E={},w=!1,B=[],D=X.createElement("canvas"),R=D.getContext("2d"),Q={column:!0,bar:!0,area:!0},z={scatter:!0,bubble:!0},$={pointSize:1,lineWidth:1,fillColor:"#AA00AA",useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,timeKDTree:!1,showSkipSummary:!1}};return E={allocateBufferForSingleSeries:r,pushSeries:f,setSize:g,inited:y,setThreshold:c,init:m,render:b,settings:$,valid:x,clear:a,flush:u,setXAxis:d,setYAxis:h,data:J,gl:s,allocateBuffer:o,destroy:A,setOptions:e}}function F(e,t){var i=e.chartWidth,o=e.chartHeight,r=e,n=e.seriesGroup||t.group,a=1,s=X.implementation.hasFeature("www.http://w3.org/TR/SVG11/feature#Extensibility","1.1");return s=!1,(r=e.isChartSeriesBoosting()?e:t).renderTarget||(r.canvas=b,e.renderer.forExport||!s?(r.renderTarget=e.renderer.image("",0,0,i,o).add(n),r.boostClear=function(){r.renderTarget.attr({href:""})},r.boostCopy=function(){r.boostResizeTarget(),r.renderTarget.attr({href:r.canvas.toDataURL("image/png")})}):(r.renderTargetFo=e.renderer.createElement("foreignObject").add(n),r.renderTarget=X.createElement("canvas"),r.renderTargetCtx=r.renderTarget.getContext("2d"),r.renderTargetFo.element.appendChild(r.renderTarget),r.boostClear=function(){r.renderTarget.width=r.canvas.width,r.renderTarget.height=r.canvas.height},r.boostCopy=function(){r.renderTarget.width=r.canvas.width,r.renderTarget.height=r.canvas.height,r.renderTargetCtx.drawImage(r.canvas,0,0)}),r.boostResizeTarget=function(){i=e.chartWidth,o=e.chartHeight,(r.renderTargetFo||r.renderTarget).attr({x:0,y:0,width:i,height:o,style:"pointer-events: none; mix-blend-mode: normal; opacity:"+a}),r instanceof ee.Chart&&r.markerGroup.translate(t.xAxis.pos,t.yAxis.pos)},r.boostClipRect=e.renderer.clipRect(),(r.renderTargetFo||r.renderTarget).clip(r.boostClipRect),r instanceof ee.Chart&&(r.markerGroup=r.renderer.g().add(n),r.markerGroup.translate(t.xAxis.pos,t.yAxis.pos))),r.canvas.width=i,r.canvas.height=o,r.boostClipRect.attr(e.getBoostClipRect(r)),r.boostResizeTarget(),r.boostClear(),r.ogl||(r.ogl=l(function(){r.ogl.settings.debug.timeBufferCopy&&console.time("buffer copy"),r.boostCopy(),r.ogl.settings.debug.timeBufferCopy&&console.timeEnd("buffer copy")}),r.ogl.init(r.canvas),r.ogl.setOptions(e.options.boost||{}),r instanceof ee.Chart&&r.ogl.allocateBuffer(e)),r.ogl.setSize(i,o),r.ogl}function L(e,t,i){e&&t.renderTarget&&t.canvas&&!(i||t.chart).isChartSeriesBoosting()&&e.render(i||t.chart)}function N(e,t){e&&t.renderTarget&&t.canvas&&!t.chart.isChartSeriesBoosting()&&e.allocateBufferForSingleSeries(t)}function e(){var e,t=0,i=["webgl","experimental-webgl","moz-webgl","webkit-3d"];if("undefined"!=typeof f.WebGLRenderingContext)for(e=X.createElement("canvas");t<i.length;t++)try{if(null!=e.getContext(i[t]))return!0}catch(o){}return!1}function t(e){var t,i=!0;if(this.chart.options&&this.chart.options.boost&&(i="undefined"==typeof this.chart.options.boost.enabled||this.chart.options.boost.enabled),!i||!this.isSeriesBoosting)return e.call(this);this.chart.isBoosting=!0,(t=F(this.chart,this))&&(N(t,this),t.pushSeries(this)),L(t,this)}var O,f=ee.win,X=f.document,G=function(){},i=ee.Chart,V=ee.Color,r=ee.Series,n=ee.seriesTypes,te=ee.each,s=ee.extend,u=ee.addEvent,I=ee.fireEvent,d=ee.grep,H=ee.isNumber,q=ee.merge,Z=ee.pick,h=ee.wrap,c=ee.getOptions().plotOptions,p=3e4,b=X.createElement("canvas"),g=["area","arearange","column","bar","line","scatter","heatmap","bubble","treemap"],m={};te(g,function(e){m[e]=1}),V.prototype.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i.prototype.isChartSeriesBoosting=function(){var e=50;return(e=this.options.boost&&"undefined"!=typeof this.options.boost.seriesThreshold?this.options.boost.seriesThreshold:e)<=this.series.length||o(this)},i.prototype.getBoostClipRect=function(e){var t={x:this.plotLeft,y:this.plotTop,width:this.plotWidth,height:this.plotHeight};return e===this&&te(this.yAxis,function(e){t.y=Math.min(e.pos,t.y),t.height=Math.max(e.pos-this.plotTop+e.len,t.height)},this),t},ee.eachAsync=function(e,t,i,o,r,n){for(var a=(r=r||0)+(o=o||p),s=!0;s&&r<a&&r<e.length;)s=t(e[r],r),++r;s&&(r<e.length?n?ee.eachAsync(e,t,i,o,r,n):f.requestAnimationFrame?f.requestAnimationFrame(function(){ee.eachAsync(e,t,i,o,r)}):setTimeout(function(){ee.eachAsync(e,t,i,o,r)}):i&&i())},r.prototype.getPoint=function(e){var t=e,i=this.xData||this.options.xData||this.processedXData||!1;return!e||e instanceof this.pointClass||((t=(new this.pointClass).init(this,this.options.data[e.i],i?i[e.i]:undefined)).category=t.x,t.dist=e.dist,t.distX=e.distX,t.plotX=e.plotX,t.plotY=e.plotY,t.index=e.i),t},h(r.prototype,"searchPoint",function(e){return this.getPoint(e.apply(this,[].slice.call(arguments,1)))}),h(r.prototype,"destroy",function(e){var t=this,i=t.chart;i.markerGroup===t.markerGroup&&(t.markerGroup=null),i.hoverPoints&&(i.hoverPoints=d(i.hoverPoints,function(e){return e.series===t})),i.hoverPoint&&i.hoverPoint.series===t&&(i.hoverPoint=null),e.call(this)}),h(r.prototype,"getExtremes",function(e){if(!this.isSeriesBoosting||!this.hasExtremes||!this.hasExtremes())return e.apply(this,Array.prototype.slice.call(arguments,1))}),te(g,function(e){c[e]&&(c[e].boostThreshold=5e3,c[e].boostData=[],n[e].prototype.fillOpacity=!0)}),te(["translate","generatePoints","drawTracker","drawPoints","render"],function(o){function e(e){var t=this.options.stacking&&("translate"===o||"generatePoints"===o),i=!0;this.chart&&this.chart.options&&this.chart.options.boost&&(i="undefined"==typeof this.chart.options.boost.enabled||this.chart.options.boost.enabled),this.isSeriesBoosting&&!t&&i&&"heatmap"!==this.type&&"treemap"!==this.type?this[o+"Canvas"]&&this[o+"Canvas"]():e.call(this)}h(r.prototype,o,e),"translate"===o&&(n.column&&h(n.column.prototype,o,e),n.bar&&h(n.bar.prototype,o,e),n.arearange&&h(n.arearange.prototype,o,e),n.treemap&&h(n.treemap.prototype,o,e),n.heatmap&&h(n.heatmap.prototype,o,e))}),h(r.prototype,"processData",function(e){function t(e){return i.chart.isChartSeriesBoosting()||(e?e.length:0)>=(i.options.boostThreshold||Number.MAX_VALUE)}var i=this,o=this.options.data;t(o)&&"heatmap"!==this.type&&"treemap"!==this.type&&this.hasExtremes&&this.hasExtremes(!0)||(e.apply(this,Array.prototype.slice.call(arguments,1)),o=this.processedXData),this.isSeriesBoosting=t(o),this.isSeriesBoosting?this.enterBoost():this.exitBoost&&this.exitBoost()}),h(r.prototype,"setVisible",function(e,t,i){e.call(this,t,i),!1===this.visible&&this.canvas&&this.renderTarget&&(this.ogl&&this.ogl.clear(),this.boostClear())}),r.prototype.enterBoost=function(){this.alteredByBoost=[],te(["allowDG","directTouch","stickyTracking"],function(e){this.alteredByBoost.push({prop:e,val:this[e],own:this.hasOwnProperty(e)})},this),this.allowDG=!1,this.directTouch=!1,this.stickyTracking=!0,this.animate=null,this.labelBySeries&&(this.labelBySeries=this.labelBySeries.destroy())},r.prototype.exitBoost=function(){te(this.alteredByBoost||[],function(e){e.own?this[e.prop]=e.val:delete this[e.prop]},this),this.boostClear&&this.boostClear()},r.prototype.hasExtremes=function(e){var t=this.options,i=t.data,o=this.xAxis&&this.xAxis.options,r=this.yAxis&&this.yAxis.options;return i.length>(t.boostThreshold||Number.MAX_VALUE)&&H(r.min)&&H(r.max)&&(!e||H(o.min)&&H(o.max))},r.prototype.destroyGraphics=function(){var e,t,i=this,o=this.points;if(o)for(t=0;t<o.length;t+=1)(e=o[t])&&e.graphic&&(e.graphic=e.graphic.destroy());te(["graph","area","tracker"],function(e){i[e]&&(i[e]=i[e].destroy())})},e()?(ee.extend(r.prototype,{renderCanvas:function(){function e(e,t){var i,o,r,n,a,s="undefined"==typeof p.index,l=!0;return s||(z?(i=e[0],o=e[1]):(i=e,o=m[t]),w?(z&&(o=e.slice(1,3)),a=o[0],o=o[1]):B&&(i=e.x,a=(o=e.stackY)-e.y),R||(l=T<=o&&o<=P),!(null===o)&&y<=i&&i<=A&&l&&(r=Math.ceil(b.toPixels(i,!0)),C?(h!==undefined&&r!==f||(w||(a=o),(c===undefined||d<o)&&(d=o,c=t),(h===undefined||a<u)&&(u=a,h=t)),r!==f&&(h!==undefined&&(n=g.toPixels(d,!0),E=g.toPixels(u,!0),U(r,n,c),E!==n&&U(r,E,h)),h=c=undefined,f=r)):(n=Math.ceil(g.toPixels(o,!0)),U(r,n,t)))),!s}function t(){I(r,"renderedCanvas"),delete r.buildKDTree,r.buildKDTree(),i.debug.timeKDTree&&console.timeEnd("kd tree building")}var f,o,u,d,h,c,i,r=this,n=r.options||{},a=!1,p=r.chart,b=this.xAxis,g=this.yAxis,s=n.xData||r.processedXData,m=n.yData||r.processedYData,l=n.data,x=b.getExtremes(),y=x.min,A=x.max,v=g.getExtremes(),T=v.min,P=v.max,S={},C=!!r.sampling,M=!1!==n.enableMouseTracking,k=n.threshold,E=g.getThreshold(k),w=r.pointArrayMap&&"low,high"===r.pointArrayMap.join(","),B=!!n.stacking,D=r.cropStart||0,R=r.requireSorting,z=!s,_=this.xData||this.options.xData||this.processedXData||!1,U=function(e,t,i){O=e+","+t,M&&!S[O]&&(S[O]=!0,p.inverted&&(e=b.len-e,t=g.len-t),o.push({x:!!_&&_[D+i],clientX:e,plotX:e,plotY:t,i:D+i}))};a=F(p,r),p.isBoosting=!0,i=a.settings,this.visible&&((this.points||this.graph)&&(this.animate=null,this.destroyGraphics()),p.isChartSeriesBoosting()?this.markerGroup=p.markerGroup:this.markerGroup=r.plotGroup("markerGroup","markers",!0,1,p.seriesGroup),o=this.points=[],r.buildKDTree=G,a&&(N(a,this),a.pushSeries(r),L(a,this,p)),p.renderer.forExport||(i.debug.timeKDTree&&console.time("kd tree building"),ee.eachAsync(B?r.data:s||l,e,t)))}}),te(["heatmap","treemap"],function(e){n[e]&&h(n[e].prototype,"drawPoints",t)}),n.bubble&&(delete n.bubble.prototype.buildKDTree,h(n.bubble.prototype,"markerAttribs",function(e){return!this.isSeriesBoosting&&e.apply(this,[].slice.call(arguments,1))})),n.scatter.prototype.fill=!0,s(n.area.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),s(n.column.prototype,{fill:!0,sampling:!0}),ee.Chart.prototype.callbacks.push(function(e){function t(){e.ogl&&e.isChartSeriesBoosting()&&e.ogl.render(e)}function i(){e.boostForceChartBoost=undefined,e.boostForceChartBoost=o(e),e.isBoosting=!1,!e.isChartSeriesBoosting()&&e.didBoost&&(e.didBoost=!1),e.boostClear&&e.boostClear(),e.canvas&&e.ogl&&e.isChartSeriesBoosting()&&(e.didBoost=!0,e.ogl.allocateBuffer(e)),e.markerGroup&&e.xAxis&&0<e.xAxis.length&&e.yAxis&&0<e.yAxis.length&&e.markerGroup.translate(e.xAxis[0].pos,e.yAxis[0].pos)}u(e,"predraw",i),u(e,"render",t)})):"undefined"!=typeof ee.initCanvasBoost?ee.initCanvasBoost():ee.error(26)}(e)});