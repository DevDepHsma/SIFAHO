"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){var Z,$,s,ee,te,t,i,c,ie,ne,re,oe,ae,se,l,ce;s=(Z=e).win.document,ee=function(){},te=Z.Color,t=Z.Series,i=Z.seriesTypes,c=Z.each,ie=Z.extend,ne=Z.addEvent,re=Z.fireEvent,oe=Z.isNumber,ae=Z.merge,se=Z.pick,l=Z.wrap,ce=5e4,Z.initCanvasBoost=function(){Z.seriesTypes.heatmap&&Z.wrap(Z.seriesTypes.heatmap.prototype,"drawPoints",function(){var r=this.getContext();r?(c(this.points,function(e){var t,i,n=e.plotY;n===undefined||isNaN(n)||null===e.y||(t=e.shapeArgs,i=e.series.pointAttribs(e),r.fillStyle=i.fill,r.fillRect(t.x,t.y,t.width,t.height))}),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")}),Z.extend(t.prototype,{getContext:function(){var t,e=this.chart,i=e.chartWidth,n=e.chartHeight,r=e.seriesGroup||this.group,o=this,a=function(e,t,i,n,r,o,a){e.call(this,i,t,n,r,o,a)};return e.isChartSeriesBoosting()&&(r=(o=e).seriesGroup),t=o.ctx,o.canvas?Z.Chart:(o.canvas=s.createElement("canvas"),o.renderTarget=e.renderer.image("",0,0,i,n).add(r),o.ctx=t=o.canvas.getContext("2d"),e.inverted&&c(["moveTo","lineTo","rect","arc"],function(e){l(t,e,a)}),o.boostClear=function(){t.clearRect(0,0,o.canvas.width,o.canvas.height),o.renderTarget&&o.renderTarget.attr({href:""})},o.boostClipRect=e.renderer.clipRect(),o.renderTarget.clip(o.boostClipRect)),o.canvas.width!==i&&(o.canvas.width=i),o.canvas.height!==n&&(o.canvas.height=n),o.renderTarget.attr({x:0,y:0,width:i,height:n,style:"pointer-events: none",href:""}),o.boostClipRect.attr(e.getBoostClipRect(o)),t},canvasToSVG:function(){this.chart.isChartSeriesBoosting()?this.boostClear():this.renderTarget.attr({href:this.canvas.toDataURL("image/png")})},cvsLineTo:function(e,t,i){e.lineTo(t,i)},renderCanvas:function(){var r,g,n,o,v,f,m,y,T,a,b=this,e=b.options,x=b.chart,C=this.xAxis,w=this.yAxis,t=x.options.boost||{},i={timeRendering:t.timeRendering||!1,timeSeriesProcessing:t.timeSeriesProcessing||!1,timeSetup:t.timeSetup||!1},s=0,c=b.processedXData,S=b.processedYData,l=e.data,d=C.getExtremes(),k=d.min,M=d.max,h=w.getExtremes(),R=h.min,D=h.max,p={},P=!!b.sampling,u=e.marker&&e.marker.radius,G=this.cvsDrawPoint,A=!!e.lineWidth&&this.cvsLineTo,L=u&&u<=1?this.cvsMarkerSquare:this.cvsMarkerCircle,B=this.cvsStrokeBatch||1e3,E=!1!==e.enableMouseTracking,N=e.threshold,X=w.getThreshold(N),Y=oe(N),O=X,V=this.fill,W=b.pointArrayMap&&"low,high"===b.pointArrayMap.join(","),q=!!e.stacking,H=b.cropStart||0,I=x.options.loading,K=b.requireSorting,U=e.connectNulls,j=!c,z=q?b.data:c||l,J=b.fillOpacity?new te(b.color).setOpacity(se(e.fillOpacity,.75)).get():b.color,_=function(){V?(r.fillStyle=J,r.fill()):(r.strokeStyle=b.color,r.lineWidth=e.lineWidth,r.stroke())},F=function(e,t,i,n){0===s&&(r.beginPath(),A&&(r.lineJoin="round")),x.scroller&&"highcharts-navigator-series"===b.options.className?(t+=x.scroller.top,i&&(i+=x.scroller.top)):t+=x.plotTop,e+=x.plotLeft,v?r.moveTo(e,t):G?G(r,e,t,i,o):A?A(r,e,t):L&&L.call(b,r,e,t,u,n),(s+=1)===B&&(_(),s=0),o={clientX:e,plotY:t,yBottom:i}},Q=function(e,t,i){a=e+","+t,E&&!p[a]&&(p[a]=!0,x.inverted&&(e=C.len-e,t=w.len-t),n.push({clientX:e,plotX:e,plotY:t,i:H+i}))};(this.points||this.graph)&&this.destroyGraphics(),b.plotGroup("group","series",b.visible?"visible":"hidden",e.zIndex,x.seriesGroup),b.markerGroup=b.group,ne(b,"destroy",function(){b.markerGroup=null}),n=this.points=[],r=this.getContext(),b.buildKDTree=ee,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.visible&&(99999<l.length&&(x.options.loading=ae(I,{labelStyle:{backgroundColor:Z.color("#ffffff").setOpacity(.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),clearTimeout($),x.showLoading("Drawing..."),x.options.loading=I),i.timeRendering&&console.time("canvas rendering"),Z.eachAsync(z,function(e,t){var i,n,r,o,a,s,c=!1,l=!1,d=!1,h=!1,p="undefined"==typeof x.index,u=!0;return p||(j?(i=e[0],n=e[1],z[t+1]&&(d=z[t+1][0]),z[t-1]&&(h=z[t-1][0])):(i=e,n=S[t],z[t+1]&&(d=z[t+1]),z[t-1]&&(h=z[t-1])),d&&k<=d&&d<=M&&(c=!0),h&&k<=h&&h<=M&&(l=!0),W?(j&&(n=e.slice(1,3)),s=n[0],n=n[1]):q&&(i=e.x,s=(n=e.stackY)-e.y),K||(u=R<=n&&n<=D),!(a=null===n)&&(k<=i&&i<=M&&u||c||l)&&(r=Math.round(C.toPixels(i,!0)),P?(y!==undefined&&r!==g||(W||(s=n),(T===undefined||m<n)&&(m=n,T=t),(y===undefined||s<f)&&(f=s,y=t)),r!==g&&(y!==undefined&&(o=w.toPixels(m,!0),X=w.toPixels(f,!0),F(r,Y?Math.min(o,O):o,Y?Math.max(X,O):X,t),Q(r,o,T),X!==o&&Q(r,X,y)),y=T=undefined,g=r)):(o=Math.round(w.toPixels(n,!0)),F(r,o,X,t),Q(r,o,t))),v=a&&!U,t%ce==0&&b.canvasToSVG()),!p},function(){var e=x.loadingDiv,t=x.loadingShown;_(),b.canvasToSVG(),i.timeRendering&&console.timeEnd("canvas rendering"),re(b,"renderedCanvas"),t&&(ie(e.style,{transition:"opacity 250ms",opacity:0}),x.loadingShown=!1,$=setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e),x.loadingDiv=x.loadingSpan=null},250)),delete b.buildKDTree,b.buildKDTree()},x.renderer.forExport?Number.MAX_VALUE:undefined))}}),i.scatter.prototype.cvsMarkerCircle=function(e,t,i,n){e.moveTo(t,i),e.arc(t,i,n,0,2*Math.PI,!1)},i.scatter.prototype.cvsMarkerSquare=function(e,t,i,n){e.rect(t-n,i-n,2*n,2*n)},i.scatter.prototype.fill=!0,i.bubble&&(i.bubble.prototype.cvsMarkerCircle=function(e,t,i,n,r){e.moveTo(t,i),e.arc(t,i,this.radii&&this.radii[r],0,2*Math.PI,!1)},i.bubble.prototype.cvsStrokeBatch=1),ie(i.area.prototype,{cvsDrawPoint:function(e,t,i,n,r){r&&t!==r.clientX&&(e.moveTo(r.clientX,r.yBottom),e.lineTo(r.clientX,r.plotY),e.lineTo(t,i),e.lineTo(t,n))},fill:!0,fillOpacity:!0,sampling:!0}),ie(i.column.prototype,{cvsDrawPoint:function(e,t,i,n){e.rect(t-1,i,1,n-i)},fill:!0,sampling:!0}),Z.Chart.prototype.callbacks.push(function(e){function t(){e.renderTarget&&e.canvas&&e.renderTarget.attr({href:e.canvas.toDataURL("image/png")})}function i(){e.renderTarget&&e.renderTarget.attr({href:""}),e.canvas&&e.canvas.getContext("2d").clearRect(0,0,e.canvas.width,e.canvas.height)}ne(e,"predraw",i),ne(e,"render",t)})}});